"use strict";(self["webpackChunkgame"]=self["webpackChunkgame"]||[]).push([[901],{6405:function(t,e,a){a.r(e),a.d(e,{default:function(){return ka}});var s=a(6440);function i(t,e,a,i,l,o){const n=(0,s.up)("elItem");return(0,s.wg)(),(0,s.j4)(n,{autotrade:l.autotrade,activeName:l.activeName},null,8,["autotrade","activeName"])}var l=a(6008);const o={class:"getting-started-page"},n={class:"getting-started-content"};function r(t,e,a,i,l,r){const c=(0,s.up)("tempLimit"),d=(0,s.up)("el-tab-pane"),u=(0,s.up)("tempmultiswap"),m=(0,s.up)("el-tabs");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",n,[(0,s.Wm)(m,{modelValue:l.activeName,"onUpdate:modelValue":e[0]||(e[0]=t=>l.activeName=t),class:"home"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{label:t.t("tradeNav.limit.title"),name:"limit"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["limit"===l.activeName?((0,s.wg)(),(0,s.j4)(c,{key:0,actModel:l.activeName,onFromChild:r.tabChange},null,8,["actModel","onFromChild"])):(0,s.kq)("",!0)],1024))])),_:1},8,["label"]),(0,s.Wm)(d,{label:t.t("tradeNav.limit.multipleSwap"),name:"multiswap"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["multiswap"===l.activeName?((0,s.wg)(),(0,s.j4)(u,{key:0,actModel:l.activeName,onFromChild:r.tabChange},null,8,["actModel","onFromChild"])):(0,s.kq)("",!0)],1024))])),_:1},8,["label"]),(0,s.Wm)(d,{label:"归集",name:"sss"})])),_:1},8,["modelValue"])])])}var c=a(1040),d=a(1254),u=a(6483);const m={class:"trade"},p={class:"trade-left MR-20 tradebot"},w={class:"tools",style:{height:"100%"}},h={class:"auto accountTable",style:{height:"100%"}},k={class:"flex items-center text-white"},g={class:"text-large font-600 mr-3 MR-5"},f={class:"text-sm mr-2"},y={class:"flex items-center"},b={class:"ML-10 MR-10 MB-10",m:"4"},_={class:"flex-row-between MB-10"},v={m:"t-0 b-2"},L={m:"t-0 b-2"},x={m:"t-0 b-2"},A={m:"t-0 b-2"},T={m:"t-0 b-2"},W={class:"flex-row-between MB-10"},M={m:"t-0 b-2"},z={m:"t-0 b-2"},C={key:0,m:"t-0 b-2"},P={key:1,m:"t-0 b-2"},B={class:"flex-row-between MB-10"},N={m:"t-0 b-2"},U={m:"t-0 b-2"},S={m:"t-0 b-2"},D={m:"t-0 b-2"},R={m:"t-0 b-2"},I={class:"flex-row-between"},V={class:"flex-row-end MB-15 MT-10"},$={class:"trade-info PB-20"},H={class:"trade-top"},E={class:"trade-info__title MB-5"},O={class:"trade-info__title-info"},j={class:"trade-item"},K={class:"trade-item__top flex-row-between"},q={class:"flex-row-start align-center pointer"},F={class:"trade-item__top-icon MR-10"},G={class:"trade-item__top-name text-overflow__1"},Z={key:0},Y=["disabled"],J={class:"trade-item",style:{"margin-top":"-30px"}},Q={class:"trade-item__top flex-row-between"},X={class:"flex-row-start align-center pointer"},tt={class:"trade-item__top-icon MR-10"},et={class:"trade-item__top-name text-overflow__1"},at={class:"trade-slippage PL-20 PR-20 MT-5"},st={class:"trade-slippage__select flex-row-between pointer"},it={class:"flex-row-end"},lt=(0,s._)("div",{class:"text-12 MR-10"},"GWEI",-1),ot={class:"PL-30 PR-30 MT-5"},nt={class:"flex-row-between"},rt={class:"text-white"},ct={class:"text-green"},dt={class:"flex-row-start"},ut={class:"buy-item flex-row-start align-center MR-10",style:{width:"50%"}},mt={class:"flex-1"},pt={class:"token-list__item-title"},wt={class:"flex-row-start text-white"},ht={key:0,class:"flex-row-start"},kt={class:"buy-item flex-row-start align-center MR-10"},gt=(0,s._)("span",null,"池子大于",-1),ft=(0,s._)("span",{class:"MR-10 MT-10 text-12"},"且",-1),yt={class:"buy-item flex-row-start align-center"},bt=(0,s._)("span",null,"池子小于",-1),_t={key:1,class:"flex-row-start"},vt={class:"buy-item flex-row-start align-center MR-10",style:{width:"100%"}},Lt=(0,s._)("span",null,"最少获得",-1),xt={class:"flex-row-start text-white"},At={class:"flex-row-start text-white"},Tt={class:"flex-row-start text-white MB-10"},Wt={class:"buy-item flex-row-start align-center MR-10",style:{width:"100px"}},Mt={key:2,class:"text-white MB-10"},zt={class:"flex-row-start text-white MB-10"},Ct={class:"MT-10 flex-row-start align-center MR-15"},Pt={key:0,class:"flex-row-start align-center MT-10"},Bt={key:0,class:"buy-item flex-row-start align-center",style:{width:"150px"}},Nt={class:"flex-row-start text-white MB-10"},Ut={class:"MT-10 flex-row-start align-center MR-15"},St={key:0,class:"flex-row-start align-center MT-10"},Dt={key:1,class:"buy-item flex-row-start align-center",style:{width:"150px"}},Rt={key:3,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},It={class:"flex-row-center"};function Vt(t,e,a,i,l,o){const n=(0,s.up)("el-tag"),r=(0,s.up)("el-button"),Vt=(0,s.up)("el-page-header"),$t=(0,s.up)("el-table-column"),Ht=(0,s.up)("el-table"),Et=(0,s.up)("Operation"),Ot=(0,s.up)("el-icon"),jt=(0,s.up)("Link"),Kt=(0,s.up)("Clock"),qt=(0,s.up)("ArrowDown"),Ft=(0,s.up)("CopyDocument"),Gt=(0,s.up)("Loading"),Zt=(0,s.up)("QuestionFilled"),Yt=(0,s.up)("el-tooltip"),Jt=(0,s.up)("el-slider"),Qt=(0,s.up)("el-switch"),Xt=(0,s.up)("el-radio"),te=(0,s.up)("el-radio-group"),ee=(0,s.up)("el-checkbox"),ae=(0,s.up)("Tokens"),se=(0,s.up)("History"),ie=(0,s.up)("RpcList"),le=(0,s.up)("Setting"),oe=(0,s.up)("pkm"),ne=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("div",w,[(0,s._)("div",h,[(0,s.Wm)(Vt,{icon:null,class:"MB-10"},{content:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s._)("span",g,(0,c.zw)(l.t("block"))+": ",1),(0,s._)("span",f,(0,c.zw)(l.newBlock),1),(0,s.Wm)(n,{class:"ML-10"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.blockDelay)+"ms",1)])),_:1})])])),extra:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s.Wm)(r,{onClick:o.openRpcList},{default:(0,s.w5)((()=>[(0,s.Uk)("RPC:"+(0,c.zw)(o.getRpcAddr()),1)])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ht,{"default-expand-all":!0,border:"",ref:"accountTableRef",data:t.taskList,style:{height:"auto",border:"1px solid"},onSelect:t.handleSelectionAccount},{default:(0,s.w5)((()=>[(0,s.Wm)($t,{type:"expand",label:"-",width:"40"},{default:(0,s.w5)((t=>[(0,s._)("div",b,[(0,s._)("div",_,[(0,s._)("p",v,(0,c.zw)(l.t("multiStatus"))+": "+(0,c.zw)(l.t(o.getMultStats(t.row.multiStatus))),1),(0,s._)("p",L,(0,c.zw)(l.t("trade.slippage"))+": "+(0,c.zw)(t.row.slippage)+"%",1),(0,s._)("p",x,(0,c.zw)(l.t("trade.honeypot"))+": "+(0,c.zw)(t.row.honeypot),1),(0,s._)("p",A,(0,c.zw)(l.t("loopMode"))+": "+(0,c.zw)(0==t.row.loopMode?l.t("tradeNav.limit.sniffe"):l.t("tradeNav.limit.lootBlock")),1),(0,s._)("p",T,"gwei: "+(0,c.zw)(t.row.gwei),1)]),(0,s._)("div",W,[(0,s._)("p",M,(0,c.zw)(l.t("gasLimit"))+": "+(0,c.zw)(t.row.gasLimit),1),(0,s._)("p",z,(0,c.zw)(l.t("tradeNav.limit.checkPool"))+": "+(0,c.zw)(t.row.checkPool),1),t.row.checkPool?((0,s.wg)(),(0,s.iD)("p",C,"poolMin: "+(0,c.zw)(t.row.poolMin),1)):(0,s.kq)("",!0),t.row.checkPool?((0,s.wg)(),(0,s.iD)("p",P,"poolMax: "+(0,c.zw)(t.row.poolMax),1)):(0,s.kq)("",!0)]),(0,s._)("div",B,[t.row.takeProfit&&0==t.row.multiStatus?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("p",N,(0,c.zw)(l.t("tradeNav.limit.takeProfit"))+": "+(0,c.zw)(t.row.takeProfitPrice),1),(0,s._)("p",U,(0,c.zw)(l.t("tradeNav.limit.stopLoss"))+": "+(0,c.zw)(t.row.stopLossPrice),1),(0,s._)("p",S,(0,c.zw)(l.t("target")+l.t("tradeNav.limit.takeProfit"))+": "+(0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.totalAmount,t.row.payDecimals)*(1+t.row.takeProfitPrice/100))),1),(0,s._)("p",D,(0,c.zw)(l.t("target")+l.t("tradeNav.limit.stopLoss"))+": "+(0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.totalAmount,t.row.payDecimals)*(1-t.row.stopLossPrice/100))),1)],64)):(0,s.kq)("",!0),(0,s._)("p",R,(0,c.zw)(l.t("current")+l.t("amount"))+": "+(0,c.zw)(t.row.currentAmount),1)]),(0,s._)("div",I,[(0,s.Wm)(Ht,{border:"",data:2!=t.row.multiStatus?t.row.selectAccount:t.row.mainAccount},{default:(0,s.w5)((()=>[(0,s.Wm)($t,{label:"index",type:"index",width:"60"}),2!=t.row.multiStatus?((0,s.wg)(),(0,s.j4)($t,{key:0,label:l.t("mainAccount")+":"+o.getShortAddress(t.row.mainAccount)},{default:(0,s.w5)((()=>[(0,s.Wm)($t,{label:l.t("reAccount"),width:"150"},{default:(0,s.w5)((e=>[(0,s.Uk)((0,c.zw)(o.getShortAddress(t.row.selectAccount[e.$index].address)),1)])),_:2},1032,["label"]),(0,s.Wm)($t,{label:l.t("amount"),width:"80"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(t.row.price),1)])),_:2},1032,["label"]),(0,s.Wm)($t,{label:l.t("purchasedToken")},{default:(0,s.w5)((e=>[(0,s.Uk)((0,c.zw)(l.gotPrice(o.formatBalanceA(t.row.selectAccount[e.$index]?.amount,t.row.selectAccount[e.$index]?.balance))),1)])),_:2},1032,["label"]),0==t.row.multiStatus?((0,s.wg)(),(0,s.j4)($t,{key:0,label:l.t("soldToken"),width:"130"},{default:(0,s.w5)((e=>[(0,s.Uk)((0,c.zw)(l.gotPrice(o.formatBalanceA(t.row.selectAccount[e.$index]?.sold,t.row.selectAccount[e.$index]?.soldBalance))),1)])),_:2},1032,["label"])):(0,s.kq)("",!0),0==t.row.multiStatus?((0,s.wg)(),(0,s.j4)($t,{key:1,label:l.t("txHash"),width:"180"},{default:(0,s.w5)((e=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.row.selectAccount[e.$index].tx,((t,e)=>((0,s.wg)(),(0,s.j4)(r,{key:e,link:"",type:"primary",size:"small",onClick:e=>o.openHash(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("openHash")),1)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["label"])):(0,s.kq)("",!0)])),_:2},1032,["label"])):(0,s.kq)("",!0)])),_:2},1032,["data"])]),(0,s._)("div",V,[(0,s.Wm)(r,{type:"success",loading:o.getTaskRunStatus(t),onClick:e=>o.addLimit(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("StartExecution")),1)])),_:2},1032,["loading","onClick"]),(0,s.Wm)(r,{type:"success",disabled:!o.getTaskRunStatus(t),onClick:e=>o.removeLimit(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("stopExecution")),1)])),_:2},1032,["disabled","onClick"]),(0,s.Wm)(r,{type:"success",onClick:e=>o.taskDelete(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("delete")),1)])),_:2},1032,["onClick"])])])])),_:1}),(0,s.Wm)($t,{label:l.t("date"),width:"110"},{default:(0,s.w5)((t=>[(0,s.Uk)((0,c.zw)(o.getTime(t.row.time)),1)])),_:1},8,["label"]),(0,s.Wm)($t,{label:l.t("trade.pathRoute"),width:"150"},{default:(0,s.w5)((t=>[(0,s.Uk)((0,c.zw)(t.row.paySymbol+">"+t.row.buySymbol),1)])),_:1},8,["label"]),(0,s.Wm)($t,{label:l.t("total")+l.t("amount"),width:"120"},{default:(0,s.w5)((t=>[(0,s.Uk)((0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.totalAmount,t.row.payDecimals))),1)])),_:1},8,["label"]),(0,s.Wm)($t,{label:l.t("status"),width:"100"},{default:(0,s.w5)((t=>[(0,s.Uk)(" ("+(0,c.zw)(o.getStatus(t.row.status))+") ",1)])),_:1},8,["label"]),(0,s.Wm)($t,{fixed:"right",label:l.t("privateKey.Operations")},{default:(0,s.w5)((t=>[(0,s.Wm)(r,{link:"",type:"primary",size:"small",onClick:e=>o.taskEdit(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("edit")),1)])),_:2},1032,["onClick"]),(0,s.Wm)(r,{link:"",type:"primary",size:"small",onClick:e=>o.taskSave(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("save")),1)])),_:2},1032,["onClick"])])),_:1},8,["label"])])),_:1},8,["data","onSelect"])])])]),(0,s._)("div",$,[(0,s._)("div",H,[(0,s._)("div",E,(0,c.zw)(l.t("tradeNav.limit.createTask")),1),(0,s._)("div",O,(0,c.zw)(l.t("current")+l.t("route"))+' "'+(0,c.zw)(o.getDexSymbol())+'" ',1),(0,s.Wm)(Ot,{size:30,class:"trade-top__icon operation pointer",onClick:e[0]||(e[0]=e=>t.$refs.setting.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(Et)])),_:1}),(0,s.Wm)(Ot,{size:30,class:"trade-top__icon rpc pointer",onClick:e[1]||(e[1]=e=>t.$refs.rpcList.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(jt)])),_:1}),l.isLogin?((0,s.wg)(),(0,s.j4)(Ot,{key:0,size:30,class:"trade-top__icon right pointer",onClick:e[2]||(e[2]=e=>t.$refs.history.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(Kt)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",j,[(0,s._)("div",K,[(0,s._)("div",q,[(0,s._)("div",{class:"flex-row-start align-center",onClick:e[3]||(e[3]=t=>o.openTokensDialog("item1"))},[(0,s.wy)((0,s._)("img",F,null,512),[[ne,l.getLogo(l.item1.address)]]),(0,s._)("div",G,(0,c.zw)(l.item1.symbol),1),(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(qt)])),_:1})]),(0,s.Wm)(Ot,{class:"ML-5",onClick:e[4]||(e[4]=t=>o.copyHandler(l.item1.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(Ft)])),_:1})]),l.isLogin?((0,s.wg)(),(0,s.iD)("div",Z,[l.item1.loading?((0,s.wg)(),(0,s.j4)(Ot,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(Gt)])),_:1})):l.item1.balance&&2!=l.task.multiStatus?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,c.zw)(l.t("mainAccount")+l.t("balance"))+"："+(0,c.zw)(l.gotPrice(l.utils.formatUnits(l.item1.balance,l.item1.decimals))),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,c.C_)(["trade-item__input MT-10 flex-row-start align-center",{"is-disabled":!l.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!l.isLogin||l.approveLoading,class:"text-right flex-1","onUpdate:modelValue":e[5]||(e[5]=t=>l.item1.price=t),placeholder:"0.00"},null,8,Y),[[d.nr,l.item1.price]]),l.isLogin?((0,s.wg)(),(0,s.j4)(n,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:o.maxHandler,type:"warning",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("MAX")])),_:1},8,["onClick"])):(0,s.kq)("",!0)],2)]),(0,s._)("img",{src:u,class:"trade-transform pointer",onClick:e[6]||(e[6]=(...t)=>o.transformHandler&&o.transformHandler(...t))}),(0,s._)("div",J,[(0,s._)("div",Q,[(0,s._)("div",X,[(0,s._)("div",{class:"flex-row-start align-center",onClick:e[7]||(e[7]=t=>o.openTokensDialog("item2"))},[(0,s.wy)((0,s._)("img",tt,null,512),[[ne,l.getLogo(l.item2.address)]]),(0,s._)("div",et,(0,c.zw)(l.item2.symbol),1),(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(qt)])),_:1})]),(0,s.Wm)(Ot,{class:"ML-5",onClick:e[8]||(e[8]=t=>o.copyHandler(l.item2.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(Ft)])),_:1})])])]),(0,s._)("div",at,[(0,s._)("div",st,[(0,s._)("div",it,[lt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.gWeiList,(t=>((0,s.wg)(),(0,s.j4)(n,{class:"trade-slippage__select-tag",type:"success",effect:l.gWei==t?"dark":"light",onClick:e=>o.toggleGwei(t),key:t},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(t),1)])),_:2},1032,["effect","onClick"])))),128)),(0,s.wy)((0,s._)("input",{type:"number",class:"trade-slippage__select-input",placeholder:"5","onUpdate:modelValue":e[9]||(e[9]=t=>l.gWei=t)},null,512),[[d.nr,l.gWei,void 0,{number:!0}]])])])]),(0,s._)("div",ot,[(0,s._)("div",nt,[(0,s._)("div",rt,[(0,s.Uk)((0,c.zw)(l.t("trade.slippage")+"/ ("+l.t("tradeNav.limit.burn")+")")+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitBurn"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])]),(0,s._)("div",ct,(0,c.zw)(l.progress)+"%",1)]),(0,s._)("div",null,[(0,s.Wm)(Jt,{modelValue:l.progress,"onUpdate:modelValue":e[10]||(e[10]=t=>l.progress=t),min:1,max:t.currentConfig?.professional?99:49,onInput:o.progressChange},null,8,["modelValue","max","onInput"])]),(0,s._)("div",dt,[(0,s._)("div",ut,[(0,s._)("span",null,(0,c.zw)(l.t("gasLimit"))+":",1),(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[11]||(e[11]=t=>l.task.gasLimit=t)},null,512),[[d.nr,l.task.gasLimit]])]),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.gasLimit"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])]),(0,s._)("div",mt,[(0,s._)("div",pt,[(0,s._)("div",wt,[(0,s.Wm)(Qt,{modelValue:l.task.checkPool,"onUpdate:modelValue":e[12]||(e[12]=t=>l.task.checkPool=t),onClick:o.checkPool,class:"ml-2 MR-10"},null,8,["modelValue","onClick"]),(0,s.Uk)(" "+(0,c.zw)(l.t("tradeNav.limit.checkPool"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitCheckPool"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"]),(0,s.Wm)(Qt,{modelValue:l.task.checkLimit,"onUpdate:modelValue":e[13]||(e[13]=t=>l.task.checkLimit=t),onClick:o.checkLimit,class:"ML-10 ml-2 MR-10"},null,8,["modelValue","onClick"]),(0,s.Uk)(" "+(0,c.zw)(l.t("tradeNav.limit.checkLimit"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitCheckPool"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])]),l.task.checkPool?((0,s.wg)(),(0,s.iD)("div",ht,[(0,s._)("div",kt,[gt,(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[14]||(e[14]=t=>l.task.poolMin=t)},null,512),[[d.nr,l.task.poolMin]])]),ft,(0,s._)("div",yt,[bt,(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[15]||(e[15]=t=>l.task.poolMax=t)},null,512),[[d.nr,l.task.poolMax]])])])):(0,s.kq)("",!0),l.task.checkLimit?((0,s.wg)(),(0,s.iD)("div",_t,[(0,s._)("div",vt,[Lt,(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[16]||(e[16]=t=>l.task.limitMin=t)},null,512),[[d.nr,l.task.limitMin]])])])):(0,s.kq)("",!0),(0,s._)("div",xt,[(0,s.Wm)(te,{modelValue:l.task.loopMode,"onUpdate:modelValue":e[17]||(e[17]=t=>l.task.loopMode=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt,{label:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("tradeNav.limit.sniffe"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitSniffe"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(Qt,{modelValue:l.task.honeypot,"onUpdate:modelValue":e[18]||(e[18]=t=>l.task.honeypot=t),class:"ml-2 ML-10 MR-10"},null,8,["modelValue"]),(0,s.Uk)(" "+(0,c.zw)(l.t("tradeNav.limit.honeypot")),1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitHoneypot"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])]),(0,s._)("div",At,[(0,s.Wm)(te,{modelValue:l.task.multiStatus,"onUpdate:modelValue":e[19]||(e[19]=t=>l.task.multiStatus=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt,{label:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("tradeNav.limit.normalBuy"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitNormalBuy"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1}),(0,s.Wm)(Xt,{label:1},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("tradeNav.limit.oneMultiBuy"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitOneMultiBuy"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("div",Tt,[(0,s._)("div",Wt,[(0,s._)("span",null,(0,c.zw)(l.t("tradeNav.limit.tradeNum"))+":",1),(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[20]||(e[20]=t=>l.task.buyNum=t)},null,512),[[d.nr,l.task.buyNum]])]),(0,s.Wm)(r,{onClick:e[21]||(e[21]=t=>o.openPKM(0)),type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("privateKey.selectPayAccount")),1)])),_:1}),1==l.task.multiStatus?((0,s.wg)(),(0,s.j4)(r,{key:0,onClick:e[22]||(e[22]=t=>o.openPKM(2)),type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("privateKey.selectAccount")),1)])),_:1})):(0,s.kq)("",!0),2==l.task.multiStatus?((0,s.wg)(),(0,s.j4)(r,{key:1,onClick:e[23]||(e[23]=t=>o.openPKM(0)),type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("privateKey.selectPayAccount")),1)])),_:1})):(0,s.kq)("",!0)]),1!=l.task.multiStatus?((0,s.wg)(),(0,s.iD)("div",Mt,[(0,s._)("div",zt,[(0,s._)("div",Ct,[(0,s.Wm)(ee,{modelValue:l.task.takeProfit,"onUpdate:modelValue":e[24]||(e[24]=t=>l.task.takeProfit=t),label:l.t("tradeNav.limit.takeProfit"),size:"large"},null,8,["modelValue","label"])]),l.task.takeProfit?((0,s.wg)(),(0,s.iD)("div",Pt,[(0,s.Wm)(te,{modelValue:l.task.takeProfitType,"onUpdate:modelValue":e[25]||(e[25]=t=>l.task.takeProfitType=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt,{label:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("percent"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitNormalBuy"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1}),(0,s.Wm)(Xt,{label:1},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("limitPrice"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitOneMultiBuy"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1})])),_:1},8,["modelValue"])])):(0,s.kq)("",!0)]),l.task.takeProfit?((0,s.wg)(),(0,s.iD)("div",Bt,[(0,s._)("span",null,(0,c.zw)(l.t("setNumber"))+":",1),(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[26]||(e[26]=t=>l.task.takeProfitPrice=t)},null,512),[[d.nr,l.task.takeProfitPrice]])])):(0,s.kq)("",!0),(0,s._)("div",Nt,[(0,s._)("div",Ut,[(0,s.Wm)(ee,{modelValue:l.task.stopLoss,"onUpdate:modelValue":e[27]||(e[27]=t=>l.task.stopLoss=t),label:l.t("tradeNav.limit.stopLoss"),size:"large"},null,8,["modelValue","label"])]),l.task.stopLoss?((0,s.wg)(),(0,s.iD)("div",St,[(0,s.Wm)(te,{modelValue:l.task.stopLossType,"onUpdate:modelValue":e[28]||(e[28]=t=>l.task.stopLossType=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt,{label:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("percent"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitNormalBuy"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1}),(0,s.Wm)(Xt,{label:1},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("limitPrice"))+" ",1),(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.limitOneMultiBuy"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"])])),_:1})])),_:1},8,["modelValue"])])):(0,s.kq)("",!0)]),l.task.stopLoss?((0,s.wg)(),(0,s.iD)("div",Dt,[(0,s._)("span",null,(0,c.zw)(l.t("setNumber"))+":",1),(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[29]||(e[29]=t=>l.task.stopLossPrice=t)},null,512),[[d.nr,l.task.stopLossPrice]])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])]),l.isLogin?0==o.getPrices("item1")?((0,s.wg)(),(0,s.j4)(r,{key:1,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("pleaseEnter")+l.t("amount")),1)])),_:1})):((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[o.getAmount()?((0,s.wg)(),(0,s.j4)(r,{key:0,class:"trade-btn",onClick:o.createTask},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.isEdit?l.t("cancel")+l.t("edit"):l.t("tradeNav.limit.createTask")),1)])),_:1},8,["onClick"])):((0,s.wg)(),(0,s.j4)(r,{key:1,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("balance")+l.t("notEnough")),1)])),_:1}))],64)):((0,s.wg)(),(0,s.j4)(r,{key:0,class:"trade-btn",onClick:o.loginFn},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("enable")+l.t("privateKey.title")),1)])),_:1},8,["onClick"])),""!=l.pathNames?((0,s.wg)(),(0,s.iD)("div",Rt,[(0,s._)("div",It,[(0,s.Wm)(Yt,{class:"box-item",effect:"light",content:t.$t("tips.PrivateKey"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ot,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt)])),_:1})])),_:1},8,["content"]),(0,s.Uk)(" "+(0,c.zw)(t.$t("trade.pathRoute"))+" "+(0,c.zw)(l.pathNames),1)])])):(0,s.kq)("",!0)])]),(0,s.Wm)(ae,{ref:"tokens",onChange:o.tokenChange,onUpdate:o.tokenUpdate},null,8,["onChange","onUpdate"]),(0,s.Wm)(se,{ref:"history"},null,512),(0,s.Wm)(ie,{ref:"rpcList"},null,512),(0,s.Wm)(le,{ref:"setting"},null,512),((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(oe,{ref:"pkm"},null,512)],1024))],64)}var $t=a(936),Ht=a(2762),Et=a(8709),Ot=a(9011),jt=a(6120),Kt=a(9239),qt=a(5546),Ft=a(1279),Gt=a(9657),Zt=a(570),Yt=a(9756),Jt=a(6494),Qt=a(2811),Xt=a(1218),te=a(1361),ee=a(5362),ae=a(179);const{t:se}=Jt["default"].global;var ie={data(){return{t:se,checkLowerCase:$t.YG,utils:Ft,gotPrice:$t.ph,getLogo:$t.R7,getBit:$t.qD,callTime:0,callBlockTime:0,isEdit:!1,activeName:"first",mainKey:"item1",isLogin:!1,useDex:"",autoDexAddress:"",inputTimeout:null,isRefreshing:!1,refreshLoading:!1,priceImpact:"",pathHas:"",pathNames:"",baseRoute:null,routes:null,exchange:Xt.Z,swapLoading:!1,approveLoading:!1,progress:10,gWei:3,gWeiList:[3,6,9,12],hasApprove:!1,type:"",item1:{},item2:{},token0:null,token1:null,oldTask:null,blockDelay:0,newBlock:0,task:{price:0,slippage:0,honeypot:!0,checkPool:!1,poolMin:0,poolMax:0,loopMode:0,multiStatus:0,payToken:"",buyToken:"",buyNum:1,totalAmount:0,status:0,stopLoss:!1,stopLossPrice:10,stopLossType:0,takeProfit:!1,takeProfitPrice:10,takeProfitType:0,routeAddress:"",gasLimit:2e6,currentAmount:"0",targetTakeProfit:0,targetStopLoss:0,tx:[]},runing:!1,runTaskList:[],callfee:null,teafiContract:null,u:Ft}},components:{Tokens:Ht.Z,History:jt.Z,RpcList:Et.Z,Setting:Ot.Z,pkm:te.Z},watch:{currentNetwork:{handler(t,e){this.handleContract("currentNetwork")},deep:!0}},computed:{...(0,Yt.Se)(["currentNetwork","currentConfig","accountChange","connectState","accountList","privateKeyList","taskList","currentRpc"]),amountOutMin(){if(!this.item2.price)return Gt.O$.from(0);let t=Zt.vz(this.item2.price.toString(),this.item2.decimals),e=Zt.vz(this.item2.price.toString(),this.item2.decimals),a=Zt.vz(this.progress.toString(),this.item2.decimals),s=Zt.vz("100",this.item2.decimals),i=e.sub(t.mul(a).div(s));return i.toString()}},activated(){this.exchange=Xt.Z;let t=localStorage.getItem("progress");this.progress=t?JSON.parse(t):10,this.teafiContract=this.currentNetwork.teafiContract,this.isRefreshing=!0,this.handleContract(),this.handleAccount(),this.callInterval(1),this.callBlock(1)},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime),clearTimeout(this.callBlockTime)},watch:{accountChange:{handler(t,e){this.handleAccount()},deep:!0},"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:t}=this.currentNetwork,e=t[0],a=t[1]||t[0];this.item1={...this.item1,...e},this.item2={...this.item2,...a},this.gWei=1*this.currentNetwork.GWEI,this.gWeiList=[1*this.currentNetwork.GWEI,2*this.currentNetwork.GWEI,3*this.currentNetwork.GWEI,4*this.currentNetwork.GWEI]}}},mounted(){this.$watch("$route.params.key",(t=>{this.loginCallBack()}))},methods:{...(0,Yt.nv)(["setConnectDialog","setTaskList"]),getRpcAddr(){return window.wallet.getDomain(this.currentRpc)},getDexSymbol(){return this.currentConfig.dex.symbol},async handleContract(){this.currentNetwork},async callBlock(t){this.callBlockTime=setTimeout((async()=>{let t=(new Date).getTime(),{blockDelay:e,blockNumber:a}=await window.wallet.getBlockDelay();if(this.blockDelay!=e&&(this.blockDelay=e,await this.loginCallBack()),this.newBlock=a,this.isRefreshing){let e=(new Date).getTime();this.callBlock(e-t>1e3?0:1e3-(e-t))}else;}),t)},async callInterval(t){this.callTime=setTimeout((async()=>{let t=(new Date).getTime();if(await this.refreshPrice(),this.isRefreshing){let e=(new Date).getTime();this.callInterval(e-t>1e3?0:1e3-(e-t))}else;}),t)},async refreshPrice(){if(!this.refreshLoading&&this.isRefreshing){this.refreshLoading=!0;try{this.runTaskList=this.runTaskList.filter((t=>2!==this.taskList[t]?.status));const t=this.runTaskList.map((async t=>{this.taskList[t]&&await this.parseTask(this.taskList[t])}));await Promise.all(t)}catch(t){console.log(t)}this.refreshLoading=!1}},async parseTask(t){if(2==t.status)return!1;t.selectAccount.forEach((t=>t.status??=0));const e=t.selectAccount.every((t=>2===t.status));if(e)return t.status=2,this.setTaskList(this.taskList),!1;switch(t.multiStatus){case 0:await this._normalBuy(t);break;case 1:await this._multiBuy(t);break}return!0},async _multiBuy(){},async _normalBuy(t){if(0==t.selectAccount.length)return;let e=t.selectAccount[0];switch(e.status){case 0:t.checkPool||await this.normalBuy(t);break;case 1:await this.checkApprove(t),await this.watchSell(t);break}},async checkApprove(t){let e=Gt.O$.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0);const a=t.selectAccount.map((async a=>{if(!a.isApprove){let s=await window.wallet.getByToken(t.buyToken,a.address);if(s&&s?.token.allowance){let t=await s.token.allowance(a.address,this.teafiContract);if(t.lte(a.balance.balance)){let t=window.wallet.findAccountByProvider(a.address);await s.token.approve(this.teafiContract,e,t?.provider),a.isApprove=!0}else a.isApprove=!0;console.log(t,"allowance")}}}));await Promise.all(a)},async watchSell(t){let e=t.routeAddress,a=Zt.vz("0",0),s=[t.buyToken,t.payToken];if(t.selectAccount.forEach((async t=>{t.balance&&t.amount?a=this.formatBalance(t.amount,t.balance):t.amount?a=t.amount.balance:t.balance&&(a=t.balance.balance)})),0==a){const e=t.selectAccount.map((async e=>{e.amount=await window.wallet.getByToken(t.buyToken,e.address)}));await Promise.all(e)}let i,l,o,n,r=window.wallet.findAccountByProvider(t.mainAccount),c=new ee.Z.Factory({blockchain:this.currentNetwork.chains,address:this.teafiContract,api:ae["default"],gasLimit:t.gasLimit,gwei:t.gwei,provider:r.provider});try{await c.gotTax(a,e,s)}catch(m){let t=m.errorArgs[0],e=t.split(":");if(4!=e.length)return;o=e[0],n=Zt.vz(e[1],0),i=Zt.vz(e[2],0),l=Zt.vz(e[3],0),console.log(e,"cleanedString")}let d=!1;t.currentAmount=(0,$t.ph)(Zt.bM(i,t.payDecimals));let u=Zt.vz("0",0);if(t.takeProfit){if(0==t.takeProfitType){let e=Zt.vz(Zt.bM(t.totalAmount,0),0);u=e.add(e.mul(t.takeProfitPrice).div(100))}else u=Zt.vz(t.takeProfitPrice,t.payDecimals);i.gte(u)&&(d=!0)}if(t.stopLoss&&!d){if(0==t.takeProfitType){let e=Zt.vz(Zt.bM(t.totalAmount,0),0);u=e.sub(e.mul(t.takeProfitPrice).div(100))}else u=Zt.vz(t.takeProfitPrice,t.payDecimals);i.lte(u)&&(d=!0)}if(d)try{let i=await c.normalSwap(a,u,e,r.address,s);console.log(i);let l=t.selectAccount.find((t=>t.address===r.address));l&&(l.tx=l.tx||[],l.tx.push(i),l.status=2,l.soldBalance={balance:n,decimals:t.payDecimals}),await i.wait();const o=t.selectAccount.map((async e=>{e.sold||(e.sold=await window.wallet.getByToken(t.payToken,e.address))}));await Promise.all(o),this.setTaskList(this.taskList)}catch(m){console.log(m)}},async normalBuy(t){let e=t.selectAccount.map((t=>t.address));t.selectAccount.forEach((async e=>{e.balance||(e.balance=await window.wallet.getByToken(t.buyToken,e.address))}));let a,s=Zt.vz(t.price.toString(),t.payDecimals),i=t.honeypot,l=t.routeAddress,o=[t.payToken,t.buyToken],n=Zt.vz("0");t.checkLimit&&(n=t.amountOutMin);let r=window.wallet.findAccountByProvider(t.mainAccount),c=new ee.Z.Factory({blockchain:this.currentNetwork.chains,address:this.currentNetwork.teafiContract,api:ae["default"],gasLimit:t.gasLimit,gwei:t.gwei,provider:r.provider});try{a=await c.manyTokensBuy(s,n,t.buyNum,t.slippage,i,l,e,o);let d=t.selectAccount.find((t=>t.address===r.address));d&&(d.tx=d.tx||[],d.tx.push(a),d.status=1),console.log(a,"tx");let u=await a.wait();t.status=1,console.log(u);const m=t.selectAccount.map((async e=>{e.amount||(e.amount=await window.wallet.getByToken(t.buyToken,e.address))}));await Promise.all(m),this.setTaskList(this.taskList)}catch(d){console.log(d)}console.log(a),console.log(t)},formatBalanceA(t,e){return t?Zt.bM(this.formatBalance(t,e),t.decimals):"0"},formatBalance(t,e){if(t){if(e){let a=Zt.vz(Zt.bM(t.balance,t.decimals),t.decimals),s=Zt.vz(Zt.bM(e.balance,e.decimals),e.decimals);return a.sub(s)}return t.balance}return Zt.vz("0",0)},checkLimit(){let t=this.task;t.checkLimit&&(t.checkPool=!1)},checkPool(){let t=this.task;t.checkPool&&(t.checkLimit=!1)},async getNewTask(){let t=(0,Qt.IU)(this.task),e=JSON.parse(JSON.stringify(t));if(e.type="limit",e.time=(new Date).getTime(),e.payToken=this.item1.address,e.paySymbol=this.item1.symbol,e.payDecimals=this.item1.decimals,e.buyToken=this.item2.address,e.buySymbol=this.item2.symbol,e.price=this.item1.price,e.slippage=this.progress,e.gwei=this.gWei,e.checkLimit&&(e.amountOutMin=Zt.vz(e.limitMin,this.item2.decimals)),this.isEdit||(e.selectAccount=[]),e.routeAddress=this.getRouteAddress(),!(e.buyNum<=0)){if(e.checkPool)if(0==e.poolMax||0==e.poolMin);else if(e.poolMin>e.poolMax)return void(0,qt.bM)({title:"tips task error",message:se("tips.errorPoolNumber"),type:"error",duration:3e3});if(0==e.multiStatus||1==e.multiStatus){let t=window.wallet.getByAccount(),a=await window.wallet.getByToken(e.payToken,t?.address),s=Zt.vz(e.price.toString(),a.decimals);if(0==e.multiStatus&&a.balance.lt(s.mul(e.buyNum)))return void(0,qt.bM)({title:"tips task error",message:se("tips.errorBalance"),type:"error",duration:3e3});if(1==e.multiStatus){let i=0,l=[];if(await Promise.all(this.accountList.map((async t=>{if(t.isUse){i++;let a=await window.wallet.getByToken(e.buyToken,t.address);l.push({address:t.address,balance:a})}}))),0==i)return void(0,qt.bM)({title:"tips task error",message:se("tips.errorAccount"),type:"error",duration:3e3});if(a.balance.lt(s.mul(e.buyNum).mul(i)))return void(0,qt.bM)({title:"tips task error",message:se("tips.errorBalance"),type:"error",duration:3e3});e.totalAmount=s.mul(e.buyNum).mul(i),e.mainAccount=t?.address,e.selectAccount=l}else{e.totalAmount=s.mul(e.buyNum),e.mainAccount=t?.address;let a=await window.wallet.getByToken(e.buyToken,t?.address);const i=e.selectAccount?e.selectAccount.findIndex((e=>e.address===t?.address)):-1;-1==i&&(e.selectAccount?.filter?(e.selectAccount=e.selectAccount.filter((t=>!!t.address)),e.selectAccount.push({address:t?.address,balance:a})):e.selectAccount=[{address:t?.address,balance:a}])}}return e}(0,qt.bM)({title:"tips task error",message:se("tips.errorBuyNumber"),type:"error",duration:3e3})},async createTask(){if(this.isEdit)return this.isEdit=!1,this.task=this.oldTask,void(this.item1.price="");let t=await this.getNewTask();this.taskList.push(t),this.setTaskList(this.taskList),console.log("创建成功",t)},async taskEdit(t){this.oldTask=(0,Qt.IU)(this.task),this.isEdit=!0,this.task=t.row,this.$refs.tokens.type="item1",await this.$refs.tokens.fastImport(this.task.payToken),this.$refs.tokens.type="item2",await this.$refs.tokens.fastImport(this.task.buyToken),this.item1.price=this.task.price,await this.loginCallBack()},async taskDelete(t){console.log(t,"delete"),this.taskList.splice(t.$index,1),this.setTaskList(this.taskList)},async taskSave(t){let e=await this.getNewTask();this.taskList[t.$index]=e,this.setTaskList(this.taskList),this.isEdit=!1,this.task=this.oldTask},getTaskRunStatus(t){return this.runTaskList.includes(t.$index)},addLimit(t){this.runTaskList.includes(t.$index)||this.runTaskList.push(t.$index)},removeLimit(t){const e=this.runTaskList.indexOf(t.$index);-1!==e&&this.runTaskList.splice(e,1)},getShortAddress(t){return t.substr(0,6)+"..."+t.substr(-4)},getTime(t){let e=new Date(t),a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate()+" ",i=e.getHours()+":",l=e.getMinutes();return a+s+i+l},getMultStats(t){switch(t){case 0:return"tradeNav.limit.normalBuy";case 1:return"tradeNav.limit.oneMultiBuy";case 2:return"tradeNav.limit.batchMultiBuy";default:break}return""},getStatus(t){switch(t){case 0:return"待买入";case 1:return"待卖出";case 2:return"已完成";case 4:return"已失败";default:break}},handleAccount(){let t=window.wallet.getByAccount();3===this.connectState?(this.hasApprove=!1,this.pathHas=[],this.item1.price="",this.item2.price="",t.isPrivateKey?(this.isLogin=!0,this.loginCallBack()):this.isLogin=!1):this.isLogin=!1},openPKM(t){this.$refs.pkm.open(t)},getPrices(t){if("undefined"==typeof this[t].price||""==this[t].price.trim())return this[t].price="",!1;let e=this[t].price.toString();const a=Zt.vz("0",18);let s=Zt.vz(e,this[t].decimals);return!s.lte(a)&&s},getAmount(){var t=this.item1;return""==t.price||!t.balance||(!t.balance.gte||t.balance.gte(Zt.vz(t.price,t.decimals)))},getAccount(){let t=window.wallet.getByAccount();return t?.address},openHash(t){let e=this.currentNetwork.Explorer[0];window.open(e+"tx/"+t.hash)},openSetting(){this.$refs.setting.open()},openRpcList(){this.$refs.rpcList.open()},refreshPage(t){this.type="item2",this.$refs.tokens.fastImport(t.address,!1)},progressChange(){localStorage.setItem("progress",this.progress)},tokenUpdate({address:t,name:e,symbol:a}){this.item1.address==t?(this.item1.name=e,this.item1.symbol=a):this.item2.address==t&&(this.item2.name=e,this.item2.symbol=a),this.isLogin&&this.loginCallBack()},async tokenChange(t,e){e=e||this.type,"item1"==e?this.item2.address==t.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==t.address&&this.item1.address==t.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),t.price=t.price||"0",this[e]=t,this.isLogin&&this.loginCallBack()},transformHandler(){const t=(0,Qt.IU)(this.item1);this.item1=(0,Qt.IU)(this.item2),this.item2=t,this.isLogin&&this.loginCallBack()},maxHandler(){let t=(0,Qt.IU)(this.item1.balance);if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress())){const e=Zt.vz("0.001",this.item1.decimals);t=t.sub(e)}this.item1.price=(0,$t.qD)(Zt.bM(t,this.item1.decimals))},getRouteAddress(){return this.currentConfig?.dex?this.currentConfig?.dex?.address:this.currentNetwork.Dex[0].address},async loginCallBack(t=!0){this.item1.loading=!1,await this.getItemBalance(this.item1.address,"item1")},async getItemBalance(t,e){if(!t)return!1;if(!this.isLogin)return!1;let{name:a,symbol:s,decimals:i,balance:l}=await window.wallet.getByToken(t);return this[e].balance=l,this[e].decimals=i,this[e].name=a,this[e].symbol=s,this[e].loading=!1,{balance:l,decimals:i}},copyHandler(t){(0,Kt.Z)(t),(0,qt.bM)({type:se("success"),title:se("success"),message:se("copy")+se("success")})},toggleGwei(t){this.gWei=t,window.wallet.setGasGwei(t)},openHistory(){this.$refs.history.open()},openTokensDialog(t){this.type=t,this.$refs.tokens.open([this.item1.address,this.item2.address])},loginFn(){this.setConnectDialog(!0)}}},le=a(7650);const oe=(0,le.Z)(ie,[["render",Vt]]);var ne=oe;const re=t=>((0,s.dD)("data-v-034e4003"),t=t(),(0,s.Cn)(),t),ce={class:"trade multis"},de={class:"trade-left MR-20 tradebot"},ue={class:"tools",style:{height:"100%"}},me={class:"auto accountTable",style:{height:"100%"}},pe={key:0},we=["src"],he={class:"flex items-center text-white"},ke={class:"text-large font-600 mr-3 MR-5"},ge={class:"text-sm mr-2"},fe={class:"flex items-center"},ye={class:"ML-10 MR-10 MB-10",m:"4"},be={class:"flex-row-between"},_e={class:"trade-info PB-20"},ve={class:"trade-top"},Le={class:"trade-info__title MB-5"},xe={class:"trade-info__title-info"},Ae={class:"trade-item"},Te={class:"trade-item__top flex-row-between"},We={class:"flex-row-start align-center pointer"},Me={class:"trade-item__top-icon MR-10"},ze={class:"trade-item__top-name text-overflow__1"},Ce={class:"flex-row-start align-center pointer"},Pe={class:"trade-item__top-icon MR-10"},Be={class:"trade-item__top-name text-overflow__1"},Ne={class:"trade-slippage PL-20 PR-20 MT-5"},Ue={class:"trade-slippage__select flex-row-between pointer"},Se={class:"flex-row-end"},De=re((()=>(0,s._)("div",{class:"text-12 MR-10"},"GWEI",-1))),Re={class:"PL-30 PR-30 MT-5"},Ie={class:"flex-row-between"},Ve={class:"text-white"},$e={class:"text-green"},He={class:"flex-1"},Ee={class:"token-list__item-title"},Oe=re((()=>(0,s._)("div",{class:"flex-row-start"},null,-1))),je={class:"flex-row-start text-white MB-10"},Ke={class:"buy-item flex-row-start align-center MR-10",style:{width:"100px"}},qe={class:"flex-row-start text-white"},Fe={class:"trade-slippage PL-20 PR-20 MT-5"},Ge={class:"trade-slippage__select flex-row-between pointer"},Ze={class:"flex-row-end"},Ye=re((()=>(0,s._)("div",{class:"text-12 MR-10"},"Buy",-1))),Je={class:"trade-slippage PL-20 PR-20 MT-5"},Qe={class:"trade-slippage__select flex-row-between pointer"},Xe={class:"flex-row-end"},ta=re((()=>(0,s._)("div",{class:"text-12 MR-10"},"Sell",-1))),ea={class:"flex-row-start text-white MT-5"},aa={key:0,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},sa={class:"flex-row-center"};function ia(t,e,a,i,l,o){const n=(0,s.up)("el-tag"),r=(0,s.up)("el-button"),u=(0,s.up)("el-page-header"),m=(0,s.up)("el-table-column"),p=(0,s.up)("el-table"),w=(0,s.up)("Histogram"),h=(0,s.up)("el-icon"),k=(0,s.up)("Operation"),g=(0,s.up)("Link"),f=(0,s.up)("Clock"),y=(0,s.up)("ArrowDown"),b=(0,s.up)("CopyDocument"),_=(0,s.up)("QuestionFilled"),v=(0,s.up)("el-tooltip"),L=(0,s.up)("el-slider"),x=(0,s.up)("el-radio"),A=(0,s.up)("el-radio-group"),T=(0,s.up)("Tokens"),W=(0,s.up)("SwapConfirm"),M=(0,s.up)("History"),z=(0,s.up)("RpcList"),C=(0,s.up)("Setting"),P=(0,s.up)("pkm"),B=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ce,[(0,s._)("div",de,[(0,s._)("div",ue,[(0,s._)("div",me,[l.chartShow?((0,s.wg)(),(0,s.iD)("div",pe,[(0,s._)("iframe",{id:"dextools-widget",title:"DEXTools Trading Chart",class:"trade-iframe",src:o.getChartUrl,frameborder:"0"},null,8,we)])):(0,s.kq)("",!0),(0,s.Wm)(u,{icon:null,class:"MB-10"},{content:(0,s.w5)((()=>[(0,s._)("div",he,[(0,s._)("span",ke,(0,c.zw)(l.t("block"))+": ",1),(0,s._)("span",ge,(0,c.zw)(l.newBlock),1),(0,s.Wm)(n,{class:"ML-10"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.blockDelay)+"ms",1)])),_:1})])])),extra:(0,s.w5)((()=>[(0,s._)("div",fe,[(0,s.Wm)(r,{onClick:o.openRpcList},{default:(0,s.w5)((()=>[(0,s.Uk)("RPC:"+(0,c.zw)(o.getRpcAddr()),1)])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(p,{data:l.taskList,"default-expand-all":!0,border:"",ref:"accountTableRef",style:{height:"auto",border:"1px solid"},onSelect:t.handleSelectionAccount},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{type:"expand",label:"-",width:"40"},{default:(0,s.w5)((t=>[(0,s._)("div",ye,[(0,s._)("div",be,[(0,s.Wm)(p,{border:"",data:t.row.selectAccount},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{label:"index",type:"index",width:"60"}),(0,s.Wm)(m,{label:l.t("wallet"),width:"150"},{default:(0,s.w5)((e=>[(0,s.Uk)((0,c.zw)(o.getShortAddress(t.row.selectAccount[e.$index].address)),1)])),_:2},1032,["label"]),(0,s.Wm)(m,{label:t.row.paySymbol,width:"80"},{default:(0,s.w5)((e=>[(0,s.Uk)((0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.selectAccount[e.$index].payBalance.balance,t.row.selectAccount[e.$index].payBalance.decimals))),1)])),_:2},1032,["label"]),(0,s.Wm)(m,{label:t.row.buySymbol},{default:(0,s.w5)((e=>[(0,s.Uk)((0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.selectAccount[e.$index].buyBalance.balance,t.row.selectAccount[e.$index].buyBalance.decimals))),1)])),_:2},1032,["label"])])),_:2},1032,["data"])])])])),_:1}),(0,s.Wm)(m,{label:l.t("trade.pathRoute"),width:"150"},{default:(0,s.w5)((t=>[(0,s.Uk)((0,c.zw)(t.row.paySymbol+">"+t.row.buySymbol),1)])),_:1},8,["label"]),(0,s.Wm)(m,{label:l.task.paySymbol+"/"+l.t("amount")},{default:(0,s.w5)((t=>[(0,s.Uk)((0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.payAmount,t.row.payDecimals))),1)])),_:1},8,["label"]),(0,s.Wm)(m,{label:l.task.buySymbol+"/"+l.t("amount")},{default:(0,s.w5)((t=>[(0,s.Uk)((0,c.zw)(l.gotPrice(l.utils.formatUnits(t.row.buyAmount,t.row.buyDecimals))),1)])),_:1},8,["label"]),(0,s.Wm)(m,{label:l.t("status")},{default:(0,s.w5)((()=>[(0,s._)("template",null,[(0,s.Uk)(" ("+(0,c.zw)(o.getStatus(l.task.status))+") ",1)])])),_:1},8,["label"])])),_:1},8,["data","onSelect"])])])]),(0,s._)("div",_e,[(0,s._)("div",ve,[(0,s.Wm)(h,{size:30,class:"trade-top__icon",onClick:e[0]||(e[0]=t=>l.chartShow=!l.chartShow)},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1}),(0,s._)("div",Le,(0,c.zw)(l.t("tradeNav.limit.multipleSwap")),1),(0,s._)("div",xe,(0,c.zw)(l.t("current")+l.t("route"))+' "'+(0,c.zw)(o.getDexSymbol())+'" ',1),(0,s.Wm)(h,{size:30,class:"trade-top__icon operation pointer",onClick:e[1]||(e[1]=e=>t.$refs.setting.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(k)])),_:1}),(0,s.Wm)(h,{size:30,class:"trade-top__icon rpc pointer",onClick:e[2]||(e[2]=e=>t.$refs.rpcList.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(g)])),_:1}),l.isLogin?((0,s.wg)(),(0,s.j4)(h,{key:0,size:30,class:"trade-top__icon right pointer",onClick:e[3]||(e[3]=e=>t.$refs.history.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(f)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",Ae,[(0,s._)("div",Te,[(0,s._)("div",We,[(0,s._)("div",{class:"flex-row-start align-center",onClick:e[4]||(e[4]=t=>o.openTokensDialog("item1"))},[(0,s.wy)((0,s._)("img",Me,null,512),[[B,l.getLogo(l.item1.address)]]),(0,s._)("div",ze,(0,c.zw)(l.item1.symbol),1),(0,s.Wm)(h,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(y)])),_:1})]),(0,s.Wm)(h,{class:"ML-5",onClick:e[5]||(e[5]=t=>o.copyHandler(l.item1.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(b)])),_:1})]),(0,s._)("div",Ce,[(0,s._)("div",{class:"flex-row-start align-center",onClick:e[6]||(e[6]=t=>o.openTokensDialog("item2"))},[(0,s.wy)((0,s._)("img",Pe,null,512),[[B,l.getLogo(l.item2.address)]]),(0,s._)("div",Be,(0,c.zw)(l.item2.symbol),1),(0,s.Wm)(h,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(y)])),_:1})]),(0,s.Wm)(h,{class:"ML-5",onClick:e[7]||(e[7]=t=>o.copyHandler(l.item2.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(b)])),_:1})])])]),(0,s._)("div",Ne,[(0,s._)("div",Ue,[(0,s._)("div",Se,[De,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.gWeiList,(t=>((0,s.wg)(),(0,s.j4)(n,{class:"trade-slippage__select-tag",type:"success",effect:l.gWei==t?"dark":"light",onClick:e=>o.toggleGwei(t),key:t},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(t),1)])),_:2},1032,["effect","onClick"])))),128)),(0,s.wy)((0,s._)("input",{type:"number",class:"trade-slippage__select-input",placeholder:"5","onUpdate:modelValue":e[8]||(e[8]=t=>l.gWei=t)},null,512),[[d.nr,l.gWei,void 0,{number:!0}]])])])]),(0,s._)("div",Re,[(0,s._)("div",Ie,[(0,s._)("div",Ve,[(0,s.Uk)((0,c.zw)(l.t("trade.slippage")+"/ ("+l.t("tradeNav.limit.burn")+")")+" ",1),(0,s.Wm)(v,{class:"box-item",effect:"light",content:t.$t("tips.limitBurn"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(_)])),_:1})])),_:1},8,["content"])]),(0,s._)("div",$e,(0,c.zw)(l.progress)+"%",1)]),(0,s._)("div",null,[(0,s.Wm)(L,{modelValue:l.progress,"onUpdate:modelValue":e[9]||(e[9]=t=>l.progress=t),min:0,max:t.currentConfig?.professional?99:49,onInput:o.progressChange},null,8,["modelValue","max","onInput"])]),(0,s._)("div",He,[(0,s._)("div",Ee,[Oe,(0,s._)("div",je,[(0,s._)("div",Ke,[(0,s._)("span",null,(0,c.zw)(l.t("tradeNav.limit.tradeNum"))+":",1),(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1","onUpdate:modelValue":e[10]||(e[10]=t=>l.task.buyNum=t)},null,512),[[d.nr,l.task.buyNum]])]),(0,s.Wm)(r,{onClick:e[11]||(e[11]=t=>o.openPKM(0)),type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("privateKey.selectPayAccount")),1)])),_:1}),1==l.task.multiStatus?((0,s.wg)(),(0,s.j4)(r,{key:0,onClick:e[12]||(e[12]=t=>o.openPKM(2)),type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("privateKey.selectAccount")),1)])),_:1})):(0,s.kq)("",!0),2==l.task.multiStatus?((0,s.wg)(),(0,s.j4)(r,{key:1,onClick:e[13]||(e[13]=t=>o.openPKM(0)),type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("privateKey.selectPayAccount")),1)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",qe,[(0,s.Wm)(A,{modelValue:l.task.loopMode,"onUpdate:modelValue":e[14]||(e[14]=t=>l.task.loopMode=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{label:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("percent"))+" ",1),(0,s.Wm)(v,{class:"box-item",effect:"light",content:t.$t("tips.limitSniffe"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(_)])),_:1})])),_:1},8,["content"])])),_:1}),(0,s.Wm)(x,{label:1},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("limitPrice"))+" ",1),(0,s.Wm)(v,{class:"box-item",effect:"light",content:t.$t("tips.limitLootBlock"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(_)])),_:1})])),_:1},8,["content"])])),_:1})])),_:1},8,["modelValue"])])])])]),(0,s._)("div",Fe,[(0,s._)("div",Ge,[(0,s._)("div",Ze,[Ye,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.amountList,(t=>((0,s.wg)(),(0,s.j4)(n,{class:"tools-slippage__select-tag ML-5",type:"success",effect:l.buyCase==t?"dark":"light",onClick:e=>o.setBuy(t),key:t},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t(t)),1)])),_:2},1032,["effect","onClick"])))),128)),(0,s.wy)((0,s._)("input",{type:"number",class:"trade-slippage__select-input ML-5",placeholder:"5","onUpdate:modelValue":e[15]||(e[15]=t=>l.buyNum=t)},null,512),[[d.nr,l.buyNum,void 0,{number:!0}]])])])]),(0,s._)("div",Je,[(0,s._)("div",Qe,[(0,s._)("div",Xe,[ta,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.amountList,(t=>((0,s.wg)(),(0,s.j4)(n,{class:"tools-slippage__select-tag ML-5",type:"success",effect:l.sellCase==t?"dark":"light",onClick:e=>o.setSell(t),key:t},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t(t)),1)])),_:2},1032,["effect","onClick"])))),128)),(0,s.wy)((0,s._)("input",{type:"number",class:"trade-slippage__select-input ML-5",placeholder:"5","onUpdate:modelValue":e[16]||(e[16]=t=>l.sellNum=t)},null,512),[[d.nr,l.sellNum,void 0,{number:!0}]])])])]),(0,s._)("div",ea,[l.isLogin?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(r,{class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("buy")),1)])),_:1}),(0,s.Wm)(r,{class:"trade-btn",style:{background:"linear-gradient(270deg, #e4cb3f, #c35c23)"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("sell")),1)])),_:1})],64)):((0,s.wg)(),(0,s.j4)(r,{key:0,class:"trade-btn",onClick:o.loginFn},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(l.t("enable")+l.t("privateKey.title")),1)])),_:1},8,["onClick"]))]),""!=l.pathNames?((0,s.wg)(),(0,s.iD)("div",aa,[(0,s._)("div",sa,[(0,s.Wm)(v,{class:"box-item",effect:"light",content:t.$t("tips.PrivateKey"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(_)])),_:1})])),_:1},8,["content"]),(0,s.Uk)(" "+(0,c.zw)(t.$t("trade.pathRoute"))+" "+(0,c.zw)(l.pathNames),1)])])):(0,s.kq)("",!0)])]),(0,s.Wm)(T,{ref:"tokens",onChange:o.tokenChange,onUpdate:o.tokenUpdate},null,8,["onChange","onUpdate"]),(0,s.Wm)(W,{ref:"swapConfirm",confirm:t.swapHandler,amountOutMin:l.gotPrice(l.utils.formatUnits(o.amountOutMin.toString(),l.item2.decimals))},null,8,["confirm","amountOutMin"]),(0,s.Wm)(M,{ref:"history"},null,512),(0,s.Wm)(z,{ref:"rpcList"},null,512),(0,s.Wm)(C,{ref:"setting"},null,512),((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(P,{ref:"pkm",onUpdate:o.pkmUpdate},null,8,["onUpdate"])],1024))],64)}var la=a(299),oa=a.n(la);const{t:na}=Jt["default"].global;var ra={data(){return{t:na,checkLowerCase:$t.YG,chartShow:!1,utils:Ft,gotPrice:$t.ph,getLogo:$t.R7,getBit:$t.qD,callTime:0,callBlockTime:0,isEdit:!1,chartUrl:"",activeName:"first",mainKey:"item1",isLogin:!1,useDex:"",autoDexAddress:"",inputTimeout:null,isRefreshing:!1,refreshLoading:!1,priceImpact:"",buyNum:80,sellNum:80,sellCase:"div",buyCase:"div",amountList:["div","Half","all"],pathHas:"",pathNames:"",baseRoute:null,routes:null,exchange:Xt.Z,swapLoading:!1,approveLoading:!1,progress:10,gWei:3,gWeiList:[3,6,9,12],hasApprove:!1,type:"",item1:{},item2:{},token0:null,token1:null,oldTask:null,blockDelay:0,newBlock:0,selectAccount:null,task:{price:0,slippage:0,honeypot:!0,checkPool:!1,poolMin:0,poolMax:0,loopMode:0,multiStatus:0,payToken:"",buyToken:"",buyNum:1,totalAmount:0,status:0,stopLoss:!1,stopLossPrice:10,stopLossType:0,takeProfit:!1,takeProfitPrice:10,takeProfitType:0,routeAddress:"",gasLimit:2e6,currentAmount:"0",targetTakeProfit:0,targetStopLoss:0,tx:[]},runing:!1,runTaskList:[],taskList:[],callfee:null,teafiContract:null,u:Ft}},components:{Tokens:Ht.Z,History:jt.Z,RpcList:Et.Z,Setting:Ot.Z,pkm:te.Z},watch:{currentNetwork:{handler(t,e){this.handleContract("currentNetwork")},deep:!0}},computed:{...(0,Yt.Se)(["currentNetwork","currentConfig","accountChange","connectState","accountList","privateKeyList","currentRpc"]),getChartUrl(){const t=this.currentNetwork.transferChartToken,e=t.find((t=>!!t&&t.address===this.item2.address));let a=this.item1.address.toLowerCase();e||(a=this.item2.address.toLowerCase());let s="";return oa().get("https://api.coinbrain.com/cointoaster/coins/liquidity-pools-page/?chainId="+wallet.network.ChainDex+"&baseToken="+a+"&pagination=%7B%22limit%22%3A50%7D").then((t=>{let e=t.data.items,a=e.filter((t=>{if(wallet.network.TransferTokens.find((e=>e.address.toLocaleLowerCase()==t.target.address.toLocaleLowerCase())))return t}));s=a[0].poolTokenAddress,console.log(a),this.chartUrl="https://www.dextools.io/widgets/en/"+wallet.network.ChainSymbol+"/pe-light/"+s+"?theme=dark&chartType=1&chartResolution=30&drawingToolbars=false"})),this.chartUrl},amountOutMin(){if(!this.item2.price)return Gt.O$.from(0);let t=Zt.vz(this.item2.price.toString(),this.item2.decimals),e=Zt.vz(this.item2.price.toString(),this.item2.decimals),a=Zt.vz(this.progress.toString(),this.item2.decimals),s=Zt.vz("100",this.item2.decimals),i=e.sub(t.mul(a).div(s));return i.toString()}},activated(){this.exchange=Xt.Z;let t=localStorage.getItem("progress");this.progress=t?JSON.parse(t):1,this.teafiContract=this.currentNetwork.teafiContract,this.isRefreshing=!0,this.handleAccount(),this.callInterval(1),this.callBlock(1)},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime),clearTimeout(this.callBlockTime)},watch:{accountChange:{handler(t,e){this.handleAccount()},deep:!0},"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:t}=this.currentNetwork,e=t[0],a=t[1]||t[0];this.item1={...this.item1,...e},this.item2={...this.item2,...a},this.gWei=this.currentNetwork.GWEI,this.gWeiList=[1*this.currentNetwork.GWEI,2*this.currentNetwork.GWEI,3*this.currentNetwork.GWEI,4*this.currentNetwork.GWEI]}}},mounted(){this.$watch("$route.params.key",(t=>{this.loginCallBack()}))},methods:{...(0,Yt.nv)(["setConnectDialog","setTaskList"]),getRpcAddr(){return window.wallet.getDomain(this.currentRpc)},getDexSymbol(){return this.currentConfig.dex.symbol},setBuy(t){this.buyCase=t},setSell(t){this.sellCase=t},async callBlock(t){this.callBlockTime=setTimeout((async()=>{let t=(new Date).getTime(),{blockDelay:e,blockNumber:a}=await window.wallet.getBlockDelay();if(this.blockDelay!=e&&(this.blockDelay=e,await this.loginCallBack()),this.newBlock=a,this.isRefreshing){let e=(new Date).getTime();this.callBlock(e-t>1e3?0:1e3-(e-t))}else;}),t)},async callInterval(t){this.callTime=setTimeout((async()=>{let t=(new Date).getTime();if(await this.refreshPrice(),this.isRefreshing){let e=(new Date).getTime();this.callInterval(e-t>1e3?0:1e3-(e-t))}else;}),t)},async refreshPrice(){if(!this.refreshLoading&&this.isRefreshing){this.refreshLoading=!0;try{this.runTaskList=this.runTaskList.filter((t=>2!==this.taskList[t]?.status));const t=this.runTaskList.map((async t=>{this.taskList[t]&&await this.parseTask(this.taskList[t])}));await Promise.all(t)}catch(t){console.log(t)}this.refreshLoading=!1}},async _normalBuy(t){if(0==t.selectAccount.length)return;let e=t.selectAccount[0];switch(e.status){case 0:t.checkPool||await this.normalBuy(t);break;case 1:await this.checkApprove(t),await this.watchSell(t);break}},async checkApprove(t){let e=Gt.O$.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0);const a=t.selectAccount.map((async a=>{if(!a.isApprove){let s=await window.wallet.getByToken(t.buyToken,a.address);if(s&&s?.token.allowance){let t=await s.token.allowance(a.address,this.teafiContract);if(t.lte(a.balance.balance)){let t=window.wallet.findAccountByProvider(a.address);await s.token.approve(this.teafiContract,e,t?.provider),a.isApprove=!0}else a.isApprove=!0;console.log(t,"allowance")}}}));await Promise.all(a)},async watchSell(t){let e=t.routeAddress,a=Zt.vz("0",0),s=[t.buyToken,t.payToken];if(t.selectAccount.forEach((async t=>{t.balance&&t.amount?a=this.formatBalance(t.amount,t.balance):t.amount?a=t.amount.balance:t.balance&&(a=t.balance.balance)})),0==a){const e=t.selectAccount.map((async e=>{e.amount=await window.wallet.getByToken(t.buyToken,e.address)}));await Promise.all(e)}let i,l,o,n,r=window.wallet.findAccountByProvider(t.mainAccount),c=new ee.Z.Factory({blockchain:this.currentNetwork.chains,address:this.teafiContract,api:ae["default"],gasLimit:t.gasLimit,gwei:t.gwei,provider:r.provider});try{await c.gotTax(a,e,s)}catch(m){let t=m.errorArgs[0],e=t.split(":");if(4!=e.length)return;o=e[0],n=Zt.vz(e[1],0),i=Zt.vz(e[2],0),l=Zt.vz(e[3],0),console.log(e,"cleanedString")}let d=!1;t.currentAmount=(0,$t.ph)(Zt.bM(i,t.payDecimals));let u=Zt.vz("0",0);if(t.takeProfit){if(0==t.takeProfitType){let e=Zt.vz(Zt.bM(t.totalAmount,0),0);u=e.add(e.mul(t.takeProfitPrice).div(100))}else u=Zt.vz(t.takeProfitPrice,t.payDecimals);i.gte(u)&&(d=!0)}if(t.stopLoss&&!d){if(0==t.takeProfitType){let e=Zt.vz(Zt.bM(t.totalAmount,0),0);u=e.sub(e.mul(t.takeProfitPrice).div(100))}else u=Zt.vz(t.takeProfitPrice,t.payDecimals);i.lte(u)&&(d=!0)}if(d)try{let i=await c.normalSwap(a,u,e,r.address,s);console.log(i);let l=t.selectAccount.find((t=>t.address===r.address));l&&(l.tx=l.tx||[],l.tx.push(i),l.status=2,l.soldBalance={balance:n,decimals:t.payDecimals}),await i.wait();const o=t.selectAccount.map((async e=>{e.sold||(e.sold=await window.wallet.getByToken(t.payToken,e.address))}));await Promise.all(o),this.setTaskList(this.taskList)}catch(m){console.log(m)}},async normalBuy(t){let e=t.selectAccount.map((t=>t.address));t.selectAccount.forEach((async e=>{e.balance||(e.balance=await window.wallet.getByToken(t.buyToken,e.address))}));let a,s=Zt.vz(t.price.toString(),t.payDecimals),i=t.honeypot,l=t.routeAddress,o=[t.payToken,t.buyToken],n=Zt.vz("0");t.checkLimit&&(n=t.amountOutMin);let r=window.wallet.findAccountByProvider(t.mainAccount),c=new ee.Z.Factory({blockchain:this.currentNetwork.chains,address:this.currentNetwork.teafiContract,api:ae["default"],gasLimit:t.gasLimit,gwei:t.gwei,provider:r.provider});try{a=await c.manyTokensBuy(s,n,t.buyNum,t.slippage,i,l,e,o);let d=t.selectAccount.find((t=>t.address===r.address));d&&(d.tx=d.tx||[],d.tx.push(a),d.status=1),console.log(a,"tx");let u=await a.wait();t.status=1,console.log(u);const m=t.selectAccount.map((async e=>{e.amount||(e.amount=await window.wallet.getByToken(t.buyToken,e.address))}));await Promise.all(m),this.setTaskList(this.taskList)}catch(d){console.log(d)}console.log(a),console.log(t)},formatBalanceA(t,e){return t?Zt.bM(this.formatBalance(t,e),t.decimals):"0"},formatBalance(t,e){if(t){if(e){let a=Zt.vz(Zt.bM(t.balance,t.decimals),t.decimals),s=Zt.vz(Zt.bM(e.balance,e.decimals),e.decimals);return a.sub(s)}return t.balance}return Zt.vz("0",0)},checkLimit(){let t=this.task;t.checkLimit&&(t.checkPool=!1)},checkPool(){let t=this.task;t.checkPool&&(t.checkLimit=!1)},pkmUpdate(){this.selectAccount=[],this.privateKeyList.map((t=>{t.isUse&&this.selectAccount.push({address:t.address,tag:t.tag})}))},async getNewTask(){let t=(0,Qt.IU)(this.task);return t.type="limit",t.time=(new Date).getTime(),t.payToken=this.item1.address,t.paySymbol=this.item1.symbol,t.payDecimals=this.item1.decimals,t.payAmount=Zt.vz("0"),t.buyToken=this.item2.address,t.buySymbol=this.item2.symbol,t.buyDecimals=this.item2.decimals,t.buyAmount=Zt.vz("0"),t.price=this.item1.price,t.slippage=this.progress,t.gwei=this.gWei,t.selectAccount=this.selectAccount,t.selectAccount&&t.selectAccount.length>0&&await Promise.all(t.selectAccount.map((async e=>{let a=await window.wallet.getByToken(t.buyToken,e.address),s=await window.wallet.getByToken(t.payToken,e.address);e.payBalance=s,e.buyBalance=a,t.buyAmount=t.buyAmount.add(a.balance),t.payAmount=t.payAmount.add(s.balance),t.buyDecimals=a.decimals,t.payDecimals=s.decimals}))),t},getShortAddress(t){return t.substr(0,6)+"..."+t.substr(-4)},getTime(t){let e=new Date(t),a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate()+" ",i=e.getHours()+":",l=e.getMinutes();return a+s+i+l},getMultStats(t){switch(t){case 0:return"tradeNav.limit.normalBuy";case 1:return"tradeNav.limit.oneMultiBuy";case 2:return"tradeNav.limit.batchMultiBuy";default:break}return""},getStatus(t){switch(t){case 0:return"待买入";case 1:return"待卖出";case 2:return"已完成";case 4:return"已失败";default:break}},handleAccount(){let t=window.wallet.getByAccount();3===this.connectState?(this.hasApprove=!1,this.pathHas=[],this.item1.price="",this.item2.price="",t.isPrivateKey?(this.isLogin=!0,this.loginCallBack()):this.isLogin=!1):this.isLogin=!1},openPKM(t){this.$refs.pkm.open(t)},getPrices(t){if("undefined"==typeof this[t].price||""==this[t].price.trim())return this[t].price="",!1;let e=this[t].price.toString();const a=Zt.vz("0",18);let s=Zt.vz(e,this[t].decimals);return!s.lte(a)&&s},getAmount(){var t=this.item1;return""==t.price||!t.balance||(!t.balance.gte||t.balance.gte(Zt.vz(t.price,t.decimals)))},getAccount(){let t=window.wallet.getByAccount();return t?.address},openHash(t){let e=this.currentNetwork.Explorer[0];window.open(e+"tx/"+t.hash)},openSetting(){this.$refs.setting.open()},openRpcList(){this.$refs.rpcList.open()},refreshPage(t){this.type="item2",this.$refs.tokens.fastImport(t.address,!1)},progressChange(){localStorage.setItem("progress",this.progress)},tokenUpdate({address:t,name:e,symbol:a}){this.item1.address==t?(this.item1.name=e,this.item1.symbol=a):this.item2.address==t&&(this.item2.name=e,this.item2.symbol=a),this.isLogin&&this.loginCallBack()},async tokenChange(t,e){e=e||this.type,"item1"==e?this.item2.address==t.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==t.address&&this.item1.address==t.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),t.price=t.price||"0",this[e]=t,this.isLogin&&this.loginCallBack()},transformHandler(){const t=(0,Qt.IU)(this.item1);this.item1=(0,Qt.IU)(this.item2),this.item2=t,this.isLogin&&this.loginCallBack()},maxHandler(){let t=(0,Qt.IU)(this.item1.balance);if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress())){const e=Zt.vz("0.001",this.item1.decimals);t=t.sub(e)}this.item1.price=(0,$t.qD)(Zt.bM(t,this.item1.decimals))},getRouteAddress(){return this.currentConfig?.dex?this.currentConfig?.dex?.address:this.currentNetwork.Dex[0].address},async loginCallBack(t=!0){this.task=await this.getNewTask(),this.taskList=[this.task]},copyHandler(t){(0,Kt.Z)(t),(0,qt.bM)({type:na("success"),title:na("success"),message:na("copy")+na("success")})},toggleGwei(t){this.gWei=t,window.wallet.setGasGwei(t)},openHistory(){this.$refs.history.open()},openTokensDialog(t){this.type=t,this.$refs.tokens.open([this.item1.address,this.item2.address])},loginFn(){this.setConnectDialog(!0)}}};const ca=(0,le.Z)(ra,[["render",ia],["__scopeId","data-v-034e4003"]]);var da=ca,ua={data(){return{activeName:"multiswap",scanItem:!1,lpItem:"123"}},computed:{},components:{tempLimit:ne,tempmultiswap:da},methods:{async tabChange(t,e){switch(this.activeName=t,t){case"scan":this.scanItem=e;break}}}};const ma=(0,le.Z)(ua,[["render",r]]);var pa=ma,wa={data(){return{activeName:"autotrade",autotrade:pa}},components:{elAutotrade:pa,elItem:l.Z},methods:{}};const ha=(0,le.Z)(wa,[["render",i]]);var ka=ha},6483:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcf///////7Tt8v///////////////////////yPI1ifJ1yDH1Ybi6T3P3FrX4EbR3TDM2Gzb5DTN2ivK2B/H1Zrtt7QAAAAVdFJOUwAaBzINHgMkIRTl0PdDi2J7rFKgveadq0oAAAKDSURBVFjDtZmJkoMgDEBVigfI4fX/v7qc3doKRI3Mzk6nTt+8NFFCWlXJ1bbN6zUMdV1T2ptFqXk5DK9X07bV+fXGWVrnlmdeQzqagfURFpc1NVDLPIczbvSL9UGl1hOMtLia9klciL6GIh0vSwtMINHrdYDlJYt6UFxE5iVbWLT7uNssj3YnF00TbTZO8xwxEfY1nidixZuL+jrvmHiHd0Q09XeDZ4lfiWle5+rvtx73iWlv8hyxxQv4J+jmtuA+6HsZPsh0M9wXdM+JBisjX3lpMAIOeQnfYFGQzJJzOZOCov8WIRETNTE2KQKJGVSDQvNx5FpAahGUEiEtUApIWkxRd1jAzhY3qKihQFPcFSDHcKDJcwW6S8DAesAH1pDbBArsaP0AsMcE9nVFcYG0SkVMiBCEHAN3175irlKCYtZazYL8AomYldbzsW6fBCq9rpOevcgnkJBZT+uq1UmgXvjI1kD8AFreyka+6NNAtm3MOu6Azs9eSQJTSVHSfGxzjjug9bMXpEokJVU2Qk3ug87xDQx+5m0lEmWTKmxC1BIchd1SLHAmIvgt6rhs+tytR/4dI/Dfj1y5l6PjpJUHqsBbktuVAeYeX29HuVjgIgt+5edhdOScjaP9n/dzwPwWEBw3ZoH+VW577t2eQvNbvHPcRveX9/ObVGkbjY5+FdoHu40WN/roWPbzG325Ffl3LLU3vi0u9yLRseAXG0RAO2ccOWO81H6Fdg7ScBIll0WW2rnQcEL6LyLMQ18JAjyqYDft+McK9IMP/tEM/fCIf7zFP4Cjjwjwhxj4Yxb8QRD+qAp9mPbAuA9/IIk/Mn1gqIs/dsYfjD8wun/gx4XrP3/8AfUYnCeR/F3+AAAAAElFTkSuQmCC"}}]);