"use strict";(self["webpackChunkgame"]=self["webpackChunkgame"]||[]).push([[639],{9922:function(e,t,i){i.r(t),i.d(t,{default:function(){return Ht}});var s=i(6440);function a(e,t,i,a,r,l){const o=(0,s.up)("elItem");return(0,s.wg)(),(0,s.j4)(o,{trade:r.trade,activeName:r.activeName},null,8,["trade","activeName"])}var r=i(6600),l=i(1040),o=i(1254),n=i(6483),c=i(8843);const d={class:"trade"},m={key:0,class:"trade-left MR-20"},h={class:"flex-row-start align-center rank-lst__info"},p=["onClick"],u=["src"],g={key:1,class:"rank-lst__item--logo"},w={key:0,class:"market-info"},k={class:"flex-row-start align-center rank-lst__info",style:{"font-size":"0.15rem"}},f={style:{"font-size":"0.12rem"}},_={key:0,style:{color:"green","margin-right":"5px"}},y={key:1,style:{color:"red","margin-right":"5px"}},v={key:2,class:"title-identitySpan"},b={key:0,style:{color:"red"}},x={key:1},A={style:{color:"yellow","margin-right":"1px"}},C={style:{color:"yellow","margin-right":"1px"}},L={style:{color:"yellow","margin-right":"1px"}},z={style:{color:"yellow","margin-right":"1px"}},S={style:{color:"yellow","margin-right":"1px"}},M={key:2,style:{color:"green"}},U={key:3,style:{color:"yellow"}},W={style:{color:"yellow"}},T=["src"],D=["src"],I={class:"trade-info PB-20"},O={class:"trade-top"},N={class:"trade-info__title MB-5"},H={class:"trade-info__title-info"},P={class:"trade-item"},R={class:"trade-item__top flex-row-between"},B={class:"flex-row-start align-center pointer"},j={class:"trade-item__top-icon MR-10"},J={class:"trade-item__top-name text-overflow__1"},V={key:0},q=["disabled"],F={class:"trade-item__input-usdt"},E={class:"trade-item flex-row-start align-center"},G={class:"align-center"},Y={class:"trade-item"},$={class:"trade-item__top flex-row-between"},K={class:"flex-row-start align-center pointer"},Z={class:"trade-item__top-icon MR-10"},Q={class:"trade-item__top-name text-overflow__1"},X={key:0},ee=["disabled"],te={class:"trade-item__input-usdt"},ie={key:0,class:"trade-item"},se={class:"trade-item flex-row-start align-center"},ae=(0,s._)("img",{src:n,class:"pointer trade-transform"},null,-1),re={class:"align-center"},le={class:"trade-item__top flex-row-between"},oe={class:"flex-row-start align-center pointer"},ne={class:"flex-row-start align-center"},ce={class:"trade-item__top-name text-overflow__1"},de=["placeholder"],me={class:"trade-slippage PL-20 PR-20 MT-5"},he={class:"trade-slippage__select flex-row-between pointer"},pe={class:"flex-row-end"},ue=(0,s._)("div",{class:"text-12 MR-10"},"GWEI",-1),ge={class:"PL-30 PR-30 MT-5"},we={class:"flex-row-between"},ke={class:"text-white"},fe={class:"text-green"},_e={key:5,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},ye={class:"flex-row-center"},ve={target:"_blank",href:"https://docs.teadao.app/chan-pin/jiao-huan/ru-he-jiao-yi-how-to-trade#zhuan-ye-mo-shi",style:{"margin-right":"5px"}},be={class:"flex-row-start text-white MB-10"},xe={class:"ML-15 MT-10 flex-row-start align-center MR-15"},Ae={class:"ML-15 MT-10 flex-row-start align-center MR-15"},Ce={key:6,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},Le={class:"flex-row-center"},ze={target:"_blank",href:"https://docs.teadao.app/chan-pin/jiao-huan/ru-he-jiao-yi-how-to-trade#zhuan-ye-mo-shi",style:{"margin-right":"5px"}},Se={key:7,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},Me={class:"flex-row-center"},Ue={target:"_blank",href:"https://docs.teadao.app/chan-pin/jiao-huan/ru-he-jiao-yi-how-to-trade#zhuan-ye-mo-shi",style:{"margin-right":"5px"}},We={class:"flex-row-start align-center MB-5 MT-20 MR-20"},Te={class:"flex-row-start align-center rank-lst__info"},De=["onClick"],Ie=["src"],Oe={key:1,class:"rank-lst__item--logo"},Ne=["src"];function He(e,t,i,a,r,He){const Pe=(0,s.up)("marquee"),Re=(0,s.up)("Histogram"),Be=(0,s.up)("el-icon"),je=(0,s.up)("Operation"),Je=(0,s.up)("Link"),Ve=(0,s.up)("Clock"),qe=(0,s.up)("ArrowDown"),Fe=(0,s.up)("CopyDocument"),Ee=(0,s.up)("Loading"),Ge=(0,s.up)("el-tag"),Ye=(0,s.up)("el-button"),$e=(0,s.up)("el-slider"),Ke=(0,s.up)("QuestionFilled"),Ze=(0,s.up)("el-checkbox"),Qe=(0,s.up)("CircleCloseFilled"),Xe=(0,s.up)("el-drawer"),et=(0,s.up)("Tokens"),tt=(0,s.up)("SwapConfirm"),it=(0,s.up)("History"),st=(0,s.up)("RpcList"),at=(0,s.up)("Setting"),rt=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",d,[r.chartShow?((0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(Pe,{class:"rank-lst flex-row-center sold-item",behavior:"scroll",onmouseover:"this.stop()",onmouseout:"this.start()"},{default:(0,s.w5)((()=>[(0,s._)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.rankList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"rank-lst__item flex-row-start align-center pointer",key:e.address,onClick:t=>He.refreshPage(e)},[e.logo?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.logo,class:"rank-lst__item--logo"},null,8,u)):((0,s.wg)(),(0,s.iD)("div",g,(0,l.zw)(e.symbol.substr(0,1)),1)),(0,s._)("div",null,(0,l.zw)(e.symbol),1)],8,p)))),128))])])),_:1}),e.token_security?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("div",k,[(0,s._)("span",f,(0,l.zw)(r.t("trade.VolumeTrends"))+"("+(0,l.zw)(e.price24h.volume>0?r.t("trade.TrendsBullish"):r.t("trade.TrendsDrops"))+") $"+(0,l.zw)(e.price24h.volumeForma),1),e.price24h.is_up?((0,s.wg)(),(0,s.iD)("span",_,"(24h:"+(0,l.zw)(e.price24h.price)+"%)",1)):(0,s.kq)("",!0),e.price24h.is_up?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",y,"(24h:-"+(0,l.zw)(e.price24h.price)+"%)",1)),e.token_security?((0,s.wg)(),(0,s.iD)("span",v,[(0,s.Uk)(" ("+(0,l.zw)(r.t("trade.TrendsTax"))+": "+(0,l.zw)((100*e.token_security.buy_tax).toFixed(1))+"%/ "+(0,l.zw)((100*e.token_security.sell_tax).toFixed(1))+"%) ",1),"1"===e.token_security.is_honeypot||(100*e.token_security.buy_tax).toFixed(1)>50||(100*e.token_security.sell_tax).toFixed(1)>50?((0,s.wg)(),(0,s.iD)("span",b,(0,l.zw)(r.t("trade.honeypot"))+"; ",1)):e.token_security.is_owner&&"1"!=e.token_security.is_proxy&&"1"!=e.token_security.hidden_owner?((0,s.wg)(),(0,s.iD)("span",M,(0,l.zw)(e.token_security.is_owner?r.t("trade.owner_yes"):""),1)):((0,s.wg)(),(0,s.iD)("span",x,[(0,s._)("span",A,(0,l.zw)("1"==e.token_security.is_proxy?r.t("trade.proxy"):""),1),(0,s._)("span",C,(0,l.zw)("1"==e.token_security.transfer_pausable?r.t("trade.transfer_pausable"):""),1),(0,s._)("span",L,(0,l.zw)("1"==e.token_security.is_blacklisted?r.t("trade.is_blacklisted"):""),1),(0,s._)("span",z,(0,l.zw)("1"==e.token_security.slippage_modifiable?r.t("trade.slippage_modifiable"):""),1),(0,s._)("span",S,(0,l.zw)("1"==e.token_security.hidden_owner?r.t("trade.hidden_owner"):r.t("trade.owner_not")),1)])),"1"==e.token_security.lp_lost?((0,s.wg)(),(0,s.iD)("span",U,(0,l.zw)(r.t("trade.lp_lost")),1)):(0,s.kq)("",!0),(0,s._)("span",W,(0,l.zw)("1"==e.token_security.cannot_sell_all?r.t("trade.cannot_sell_all"):""),1)])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("iframe",{id:"dextools-widget",title:"DEXTools Trading Chart",class:"trade-iframe",src:He.getChartUrl,frameborder:"0"},null,8,T),(0,s._)("iframe",{class:"trade-iframe",width:"100%",frameBorder:"0",scrolling:"no",style:{position:"relative",height:"200px",border:"1px solid #3c3c3c",background:"#181818",bottom:"100px","margin-bottom":"-100px"},src:this.tradesUrl},null,8,D)])])):(0,s.kq)("",!0),(0,s._)("div",I,[(0,s._)("div",O,[(0,s.Wm)(Be,{size:30,class:"trade-top__icon",onClick:t[0]||(t[0]=e=>r.chartShow=!r.chartShow)},{default:(0,s.w5)((()=>[(0,s.Wm)(Re)])),_:1}),(0,s._)("div",N,(0,l.zw)(r.t("trade.title")),1),(0,s._)("div",H,(0,l.zw)(r.t("current")+r.t("route"))+' "'+(0,l.zw)(e.currentConfig?.autoRoute?r.useDex:e.currentConfig?.dex?.symbol)+'"',1),(0,s.Wm)(Be,{size:30,class:"trade-top__icon operation pointer",onClick:t[1]||(t[1]=t=>e.$refs.setting.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(je)])),_:1}),(0,s.Wm)(Be,{size:30,class:"trade-top__icon rpc pointer",onClick:t[2]||(t[2]=t=>e.$refs.rpcList.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(Je)])),_:1}),r.isLogin?((0,s.wg)(),(0,s.j4)(Be,{key:0,size:30,class:"trade-top__icon right pointer",onClick:t[3]||(t[3]=t=>e.$refs.history.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",P,[(0,s._)("div",R,[(0,s._)("div",B,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[4]||(t[4]=e=>He.openTokensDialog("item1"))},[(0,s.wy)((0,s._)("img",j,null,512),[[rt,r.getLogo(r.item1.address)]]),(0,s._)("div",J,(0,l.zw)(r.item1.symbol),1),(0,s.Wm)(Be,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(qe)])),_:1})]),(0,s.Wm)(Be,{class:"ML-5",onClick:t[5]||(t[5]=e=>He.copyHandler(r.item1.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(Fe)])),_:1})]),r.isLogin?((0,s.wg)(),(0,s.iD)("div",V,[r.item1.loading?((0,s.wg)(),(0,s.j4)(Be,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ee)])),_:1})):r.item1.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,l.zw)(r.t("balance"))+"："+(0,l.zw)(r.gotPrice(r.utils.formatUnits(r.item1.balance,r.item1.decimals))),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,l.C_)(["trade-item__input MT-10 flex-row-start align-center",{"is-disabled":!r.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!r.isLogin||r.approveLoading,class:"text-right flex-1",onInput:t[6]||(t[6]=e=>He.price1Change("item1",!0)),"onUpdate:modelValue":t[7]||(t[7]=e=>r.item1.price=e),placeholder:"0.00"},null,40,q),[[o.nr,r.item1.price]]),r.isLogin?((0,s.wg)(),(0,s.j4)(Ge,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:He.maxHandler,type:"warning",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("MAX")])),_:1},8,["onClick"])):(0,s.kq)("",!0),(0,s._)("div",F,[(0,s.Uk)((0,l.zw)(He.getUsdt(r.item1.price,r.item1.address,"item1"))+" ",1),r.item1.usdt&&r.item1.price?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)("~$"+(0,l.zw)(r.item1.usdt),1)],64)):(0,s.kq)("",!0)])],2)]),(0,s._)("div",E,[(0,s._)("img",{src:n,class:"pointer trade-transform",onClick:t[8]||(t[8]=(...e)=>He.transformHandler&&He.transformHandler(...e))}),(0,s._)("div",G,[(0,s.Wm)(Ye,{class:"trade-btn",onClick:t[9]||(t[9]=e=>r.isAddSend=!r.isAddSend),style:{background:"none",border:"0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("trade.addSend")),1)])),_:1})])]),(0,s._)("div",Y,[(0,s._)("div",$,[(0,s._)("div",K,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[10]||(t[10]=e=>He.openTokensDialog("item2"))},[(0,s.wy)((0,s._)("img",Z,null,512),[[rt,r.getLogo(r.item2.address)]]),(0,s._)("div",Q,(0,l.zw)(r.item2.symbol),1),(0,s.Wm)(Be,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(qe)])),_:1})]),(0,s.Wm)(Be,{class:"ML-5",onClick:t[11]||(t[11]=e=>He.copyHandler(r.item2.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(Fe)])),_:1}),r.isLogin&&1==e.connectState?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ML-5 trade-item__top-wallet",src:c,onClick:t[12]||(t[12]=(...e)=>He.addTokenHandler&&He.addTokenHandler(...e))})):(0,s.kq)("",!0)]),r.isLogin?((0,s.wg)(),(0,s.iD)("div",X,[r.item2.loading?((0,s.wg)(),(0,s.j4)(Be,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ee)])),_:1})):r.item2.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,l.zw)(r.t("balance"))+": "+(0,l.zw)(r.gotPrice(r.utils.formatUnits(r.item2.balance,r.item2.decimals))),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,l.C_)(["trade-item__input MT-5 flex-row-start align-center",{"is-disabled":!r.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!r.isLogin||r.approveLoading,"onUpdate:modelValue":t[13]||(t[13]=e=>r.item2.price=e),class:"text-right flex-1",onInput:t[14]||(t[14]=e=>He.price1Change("item2",!0)),placeholder:"0.00"},null,40,ee),[[o.nr,r.item2.price]]),(0,s._)("div",te,[(0,s.Uk)((0,l.zw)(He.getUsdt(r.item2.price,r.item2.address,"item2"))+" ",1),r.item2.usdt&&r.item2.price?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)("~$"+(0,l.zw)(r.item2.usdt),1)],64)):(0,s.kq)("",!0)])],2)]),r.isAddSend?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",se,[ae,(0,s._)("div",re,[(0,s.Wm)(Ye,{class:"trade-btn",onClick:t[15]||(t[15]=e=>r.isAddSend=!1),style:{background:"none",border:"0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("trade.removeSend")),1)])),_:1})])]),(0,s._)("div",le,[(0,s._)("div",oe,[(0,s._)("div",ne,[(0,s._)("div",ce,(0,l.zw)(r.t("receiveWaller")),1)])])]),(0,s._)("div",{class:(0,l.C_)(["trade-item__input MT-5 flex-row-start align-center",{"is-disabled":!r.isLogin}])},[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>r.receiveWaller=e),class:"text-right flex-1",placeholder:r.t("walletAddress")},null,8,de),[[o.nr,r.receiveWaller]])],2)])):(0,s.kq)("",!0),(0,s._)("div",me,[(0,s._)("div",he,[(0,s._)("div",pe,[ue,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.gWeiList,(e=>((0,s.wg)(),(0,s.j4)(Ge,{class:"trade-slippage__select-tag",type:"success",effect:r.gWei==e?"dark":"light",onClick:t=>He.toggleGwei(e),key:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e),1)])),_:2},1032,["effect","onClick"])))),128)),(0,s.wy)((0,s._)("input",{type:"number",class:"trade-slippage__select-input",placeholder:"5","onUpdate:modelValue":t[17]||(t[17]=e=>r.gWei=e)},null,512),[[o.nr,r.gWei,void 0,{number:!0}]])])])]),(0,s._)("div",ge,[(0,s._)("div",we,[(0,s._)("div",ke,(0,l.zw)(r.t("trade.slippage")),1),(0,s._)("div",fe,(0,l.zw)(r.progress)+"%",1)]),(0,s._)("div",null,[(0,s.Wm)($e,{modelValue:r.progress,"onUpdate:modelValue":t[18]||(t[18]=e=>r.progress=e),min:1,max:e.currentConfig?.professional?99:49,onInput:He.progressChange},null,8,["modelValue","max","onInput"])])]),r.isLogin?0==He.getPrices("item1")?((0,s.wg)(),(0,s.j4)(Ye,{key:2,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("pleaseEnter")+r.t("amount")),1)])),_:1})):r.hasApprove?((0,s.wg)(),(0,s.iD)(s.HY,{key:4},[He.getAmount()?((0,s.wg)(),(0,s.j4)(Ye,{key:0,class:(0,l.C_)(["trade-btn",{impactButton:""!=r.priceImpact&&r.priceImpact>5}]),loading:r.swapLoading,onClick:He.swapSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(""!=r.priceImpact&&r.priceImpact>5&&3==this.connectState?r.t("trade.priceImpact"):r.t("trade.title")),1)])),_:1},8,["class","loading","onClick"])):((0,s.wg)(),(0,s.j4)(Ye,{key:1,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("balance")+r.t("notEnough")),1)])),_:1}))],64)):((0,s.wg)(),(0,s.j4)(Ye,{key:3,loading:r.approveLoading,class:"trade-btn",onClick:He.approveHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("approve")),1)])),_:1},8,["loading","onClick"])):((0,s.wg)(),(0,s.j4)(Ye,{key:1,class:"trade-btn",onClick:He.loginFn},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("connect")+r.t("wallet")),1)])),_:1},8,["onClick"])),He.getPrices("item1")&&""!=this.priceImpact?((0,s.wg)(),(0,s.iD)("div",_e,[(0,s._)("div",ye,[(0,s._)("a",ve,[(0,s.Wm)(Be,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke)])),_:1})]),(0,s.Uk)(" "+(0,l.zw)(e.$t("trade.amountOutMin"))+" "+(0,l.zw)(r.utils.formatUnits(this.amountOutMin,r.item2.decimals)),1)])])):(0,s.kq)("",!0),(0,s._)("div",be,[(0,s._)("div",xe,[(0,s.Wm)(Ze,{modelValue:r.fixPrice,"onUpdate:modelValue":t[19]||(t[19]=e=>r.fixPrice=e),label:r.t("fixed")+r.t("price"),size:"large"},null,8,["modelValue","label"])]),(0,s._)("div",Ae,[(0,s.Wm)(Ze,{modelValue:r.autoSellAll,"onUpdate:modelValue":t[20]||(t[20]=e=>r.autoSellAll=e),label:r.t("autoSellAll"),size:"large"},null,8,["modelValue","label"])])]),""!=r.pathNames?((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s._)("div",Le,[(0,s._)("a",ze,[(0,s.Wm)(Be,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke)])),_:1})]),(0,s.Uk)(" "+(0,l.zw)(e.$t("trade.pathRoute"))+" "+(0,l.zw)(r.pathNames),1)])])):(0,s.kq)("",!0),He.getPrices("item1")&&""!=this.priceImpact?((0,s.wg)(),(0,s.iD)("div",Se,[(0,s._)("div",Me,[(0,s._)("a",Ue,[(0,s.Wm)(Be,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke)])),_:1})]),(0,s.Uk)(" "+(0,l.zw)(e.$t("trade.priceImpact"))+" "+(0,l.zw)(this.priceImpact)+"% ",1)])])):(0,s.kq)("",!0)])]),(0,s.Wm)(Xe,{modelValue:r.chartShow,"onUpdate:modelValue":t[22]||(t[22]=e=>r.chartShow=e),direction:"btt","show-close":!1,"custom-class":"trade-drawer","modal-class":"trade-drawer__modal","append-to-body":"","with-header":!1},{default:(0,s.w5)((()=>[(0,s._)("div",We,[r.isLogin?0==He.getPrices("item1")?((0,s.wg)(),(0,s.j4)(Ye,{key:1,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("pleaseEnter")+r.t("amount")),1)])),_:1})):r.hasApprove?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[r.item1.price?He.getAmount()?((0,s.wg)(),(0,s.j4)(Ye,{key:1,class:"trade-btn",loading:r.swapLoading,onClick:He.swapSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("exchange")),1)])),_:1},8,["loading","onClick"])):(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(Ye,{key:0,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("pleaseEnter")+r.t("amount")),1)])),_:1}))],64)):((0,s.wg)(),(0,s.j4)(Ye,{key:2,loading:r.approveLoading,class:"trade-btn",onClick:He.approveHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("approve")),1)])),_:1},8,["loading","onClick"])):((0,s.wg)(),(0,s.j4)(Ye,{key:0,class:"trade-btn",onClick:He.loginFn},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.t("connect")+r.t("wallet")),1)])),_:1},8,["onClick"])),(0,s.Wm)(Be,{size:30,color:"#fff",class:"el-icon--left",onClick:t[21]||(t[21]=e=>r.chartShow=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(Qe)])),_:1})]),(0,s.Wm)(Pe,{class:"rank-lst flex-row-center",behavior:"scroll",onmouseover:"this.stop()",onmouseout:"this.start()"},{default:(0,s.w5)((()=>[(0,s._)("div",Te,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.rankList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"rank-lst__item flex-row-start align-center pointer",key:e.address,onClick:t=>He.refreshPage(e)},[e.logo?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.logo,class:"rank-lst__item--logo"},null,8,Ie)):((0,s.wg)(),(0,s.iD)("div",Oe,(0,l.zw)(e.symbol.substr(0,1)),1)),(0,s._)("div",null,(0,l.zw)(e.symbol),1)],8,De)))),128))])])),_:1}),(0,s._)("iframe",{id:"dextools-widget",title:"DEXTools Trading Chart",class:"trade-iframe",src:He.getChartUrl,frameborder:"0"},null,8,Ne)])),_:1},8,["modelValue"]),(0,s.Wm)(et,{ref:"tokens",onChange:He.tokenChange,onUpdate:He.tokenUpdate},null,8,["onChange","onUpdate"]),(0,s.Wm)(tt,{ref:"swapConfirm",confirm:He.swapHandler,amountOutMin:r.gotPrice(r.utils.formatUnits(He.amountOutMin.toString(),r.item2.decimals))},null,8,["confirm","amountOutMin"]),(0,s.Wm)(it,{ref:"history"},null,512),(0,s.Wm)(st,{ref:"rpcList"},null,512),(0,s.Wm)(at,{ref:"setting"},null,512)],64)}var Pe=i(936),Re=i(2762);const Be={class:"flex-row-between confirm-item"},je={class:"flex-row-start align-center"},Je={class:"confirm-item__icon MR-5"},Ve={class:"flex-row-between confirm-item"},qe={class:"flex-row-start align-center"},Fe={class:"confirm-item__icon MR-5"},Ee={class:"confirm-info"},Ge={class:"flex-row-between MB-10"},Ye={class:"flex-row-end"},$e={class:"flex-row-between MB-10"},Ke={class:"flex-row-start align-center"},Ze=(0,s._)("br",null,null,-1),Qe={class:"flex-row-end"};function Xe(e,t,i,a,r,o){const n=(0,s.up)("Bottom"),c=(0,s.up)("el-icon"),d=(0,s.up)("QuestionFilled"),m=(0,s.up)("el-tooltip"),h=(0,s.up)("el-button"),p=(0,s.up)("el-dialog"),u=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.j4)(p,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>r.dialogVisible=e),title:e.$t("swap.confirmSwap"),width:"620px","custom-class":"confirm"},{default:(0,s.w5)((()=>[(0,s._)("div",Be,[(0,s._)("div",je,[(0,s.wy)((0,s._)("img",Je,null,512),[[u,r.getLogo(r.item1.address)]]),(0,s.Uk)(" "+(0,l.zw)(r.getBit(r.item1.price,9)),1)]),(0,s._)("div",null,(0,l.zw)(r.item1.symbol),1)]),(0,s.Wm)(c,{color:"#fff",size:20,class:"MT-20 MB-20"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1}),(0,s._)("div",Ve,[(0,s._)("div",qe,[(0,s.wy)((0,s._)("img",Fe,null,512),[[u,r.getLogo(r.item2.address)]]),(0,s.Uk)(" "+(0,l.zw)(r.getBit(r.item2.price,9)),1)]),(0,s._)("div",null,(0,l.zw)(r.item2.symbol),1)]),(0,s._)("div",Ee,[(0,s._)("div",Ge,[(0,s._)("div",null,(0,l.zw)(e.t("swap.price")),1),(0,s._)("div",Ye,(0,l.zw)(r.getBit(r.item2.price/r.item1.price,5))+" "+(0,l.zw)(r.item2.symbol)+" / "+(0,l.zw)(r.item1.symbol),1)]),(0,s._)("div",$e,[(0,s._)("div",Ke,[(0,s._)("div",null,(0,l.zw)(e.t("swap.minimum")),1),(0,s.Wm)(m,{placement:"right"},{content:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.t("swap.tips1"))+",",1),Ze,(0,s.Uk)(" "+(0,l.zw)(e.t("swap.tips2"))+". ",1)])),default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"ML-5 pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1})])),_:1})]),(0,s._)("div",Qe,(0,l.zw)(i.amountOutMin)+" "+(0,l.zw)(r.item2.symbol),1)])]),(0,s.Wm)(h,{class:"confirm-btn MT-30",loading:r.loading,onClick:o.confirmHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.t("swap.confirmSwap")),1)])),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","title"])}var et=i(1279),tt={name:"swapConfirm",props:{amountOutMin:String,confirm:Function},data(){return{utils:et,getBit:Pe.qD,getLogo:Pe.R7,dialogVisible:!1,item1:{},item2:{},loading:!1}},methods:{open(e,t){this.item1=e,this.item2=t,this.dialogVisible=!0},confirmHandler(){this.loading=!0,this.confirm().finally((()=>{this.loading=!1,this.dialogVisible=!1}))}}},it=i(7650);const st=(0,it.Z)(tt,[["render",Xe]]);var at=st,rt=i(8709),lt=i(9011),ot=i(6120),nt=i(9239),ct=i(5546),dt=i(9657),mt=i(570),ht=i(9756),pt=i(6494),ut=i(2811),gt=i(5101),wt=i(5668),kt=i(6811),ft=i(2481);const _t=({address:e,api:t,method:i,params:s,value:a,gasPrice:r,gasLimit:l,provider:o,block:n})=>{const c=new wt.CH(e,t,o),d=(0,ft.P)({contract:c,method:i,params:s}),m=c.interface.fragments.find((e=>e.name===i));void 0===c[i]&&(i=`${i}(${m.inputs.map((e=>e.type)).join(",")})`);let h={};return a&&(h.value=a),l&&(h.gasLimit=l),r&&(h.gasPrice=r),n&&(h.blockTag=n),c.estimateGas[i](...d,h)},yt=({address:e,provider:t})=>t.getBlockNumber?t.getBalance(e):t.provider.getBalance(e),vt=({address:e,provider:t})=>t.getTransactionCount(e),bt=({blockchain:e,address:t,api:i,method:s,params:a,value:r,gasPrice:l,block:o,gasLimit:n,provider:c})=>i?_t({address:t,api:i,method:s,params:a,value:r,gasPrice:l,provider:c,block:o,gasLimit:n}):"latestBlockNumber"===s?c.getBlockNumber?c.getBlockNumber():c.provider.getBlockNumber():"balance"===s?yt({address:t,provider:c}):"transactionCount"===s?vt({address:t,provider:c}):"transfer"===s&&r?c.sendTransaction?c.sendTransaction({to:t,value:r,gasPrice:l,gasLimit:n}):c.provider.sendTransaction({to:t,value:r,gasPrice:l,gasLimit:n}):void 0;var xt=async({blockchain:e,address:t,api:i,method:s,params:a,block:r,timeout:l,strategy:o,value:n,gasPrice:c,gasLimit:d,provider:m})=>{o=o||((0,kt.P)().strategy||"failover"),l=l||((0,kt.P)().timeout||void 0),c=c||window.wallet.getGasGwei(),m=m||window.wallet.getByAccount()?.providers;const h=bt({blockchain:e,address:t,api:i,method:s,params:a,value:n,gasPrice:c,gasLimit:d,block:r,provider:m});return h},At=i(5787),Ct=i(5665);const Lt=async function(e,t){const{blockchain:i,address:s,method:a}=(0,At.Z)(e),{api:r,params:l,block:o,timeout:n,strategy:c,value:d,gasPrice:m,provider:h,gasLimit:p}=("object"==typeof e?e:t)||{};if(Ct.Z.evm.includes(i))return await xt({blockchain:i,address:s,api:r,method:a,params:l,block:o,strategy:c,timeout:n,value:d,gasPrice:m,gasLimit:p,provider:h});throw"Unknown blockchain: "+i};var zt=Lt,St=i(1218),Mt=(i(6761),i(299)),Ut=i.n(Mt);const{t:Wt}=pt["default"].global;var Tt={data(){return{t:Wt,checkLowerCase:Pe.YG,utils:et,gotPrice:Pe.ph,getLogo:Pe.R7,getBit:Pe.qD,callTime:0,fixPrice:!1,mainKey:"item1",chartUrl:"",rankList:[],isLogin:!1,useDex:"",autoDexAddress:"",inputTimeout:null,loginTimeout:null,isRefreshing:!1,refreshLoading:!1,priceImpact:"",receiveWaller:"",pathHas:"",pathNames:"",baseRoute:null,chartShow:!1,routes:null,exchange:St.Z,swapLoading:!1,approveLoading:!1,progress:10,gWei:3,gWeiList:[3,6,9,12],hasApprove:!1,autoSellAll:!1,isAddSend:!1,type:"",item1:{},item2:{},token0:null,token1:null}},components:{Tokens:Re.Z,History:ot.Z,SwapConfirm:at,RpcList:rt.Z,Setting:lt.Z},computed:{...(0,ht.Se)(["currentNetwork","currentConfig","accountChange","connectState"]),amountOutMin(){if(!this.item2.price)return dt.O$.from(0);let e=mt.vz(this.item2.price.toString(),this.item2.decimals),t=mt.vz(this.item2.price.toString(),this.item2.decimals),i=mt.vz(this.progress.toString(),this.item2.decimals),s=mt.vz("100",this.item2.decimals),a=t.sub(e.mul(i).div(s));return a.toString()},getChartUrl(){const e=this.currentNetwork.transferChartToken,t=e.find((e=>!!e&&e.address===this.item2.address));let i=this.item1.address.toLowerCase();t||(i=this.item2.address.toLowerCase());let s="";return Ut().get("https://api.coinbrain.com/cointoaster/coins/liquidity-pools-page/?chainId="+wallet.network.ChainDex+"&baseToken="+i+"&pagination=%7B%22limit%22%3A50%7D").then((e=>{let t=e.data.items,i=t.filter((e=>{if(wallet.network.TransferTokens.find((t=>t.address.toLocaleLowerCase()==e.target.address.toLocaleLowerCase())))return e}));s=i[0].poolTokenAddress,console.log(i),this.chartUrl="https://www.dextools.io/widgets/en/"+wallet.network.ChainSymbol+"/pe-light/"+s+"?theme=dark&chartType=1&chartResolution=30&drawingToolbars=false"})),this.tradesUrl="https://coinbrain.com/embed/"+wallet.network.coinbrainSymbol+"-"+i+"?theme=custom&padding=16&background=181818&chart=0&trades=1",this.chartUrl}},activated(){this.exchange=St.Z;let e=localStorage.getItem("progress");this.progress=e?JSON.parse(e):1,this.isRefreshing=!0,this.callInterval(1),this.handleAccount()},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime)},watch:{accountChange:{handler(e,t){this.handleAccount()},deep:!0},"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:e}=this.currentNetwork,t=e[0],i=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...i},this.gWei=1*this.currentNetwork.GWEI,this.gWeiList=[1*this.currentNetwork.GWEI,2*this.currentNetwork.GWEI,3*this.currentNetwork.GWEI,4*this.currentNetwork.GWEI]}}},mounted(){this.$watch("$route.params.key",(e=>{this.loginCallBack()}))},methods:{...(0,ht.nv)(["setConnectDialog"]),handleAccount(){let e=this.getAccount();this.hasApprove=!1,this.pathHas=[],this.item1.price="",this.item2.price="",e?(this.isLogin=!0,this.loginCallBack()):this.isLogin=!1},async callInterval(e){this.callTime=setTimeout((async()=>{await this.refreshPrice(),this.isRefreshing&&this.callInterval(6e3)}),e)},getPrices(e){if("undefined"==typeof this[e].price||""==this[e].price.trim())return this[e].price="",!1;let t=this[e].price.toString();const i=mt.vz("0",18);let s=mt.vz(t,this[e].decimals);return!s.lte(i)&&s},getAmount(){var e=this.item1;return""==e.price||!e.balance||(!e.balance.gte||e.balance.gte(mt.vz(e.price,e.decimals)))},getAccount(){let e=window.wallet.getByAccount();return e?.address},getUsdt(e,t,i){if(e&&t){var s=window.wallet.getUsdAddress(),a=window.wallet.getByUnitPrice(t.toLocaleLowerCase());if(a&&(this[i].uprice=a.priceUsd),s.find((e=>t.toLocaleLowerCase()==e.toLowerCase())))return this[i].uprice="1",void(this[i].usdt=(0,Pe.ph)(this[i].uprice*e));void 0!=this[i].uprice&&""!=this[i].uprice&&(this[i].usdt=(0,Pe.ph)(this[i].uprice*e))}else this.priceImpact=""},openSetting(){this.$refs.setting.open()},openRpcList(){this.$refs.rpcList.open()},refreshPage(e){this.type="item2",this.$refs.tokens.fastImport(e.address,!1)},addTokenHandler(){const{symbol:e,address:t}=this.item2;window.wallet.addTokenToMeta(t,e,(0,Pe.R7)(t))},progressChange(){localStorage.setItem("progress",this.progress)},tokenUpdate({address:e,name:t,symbol:i}){this.item1.address==e?(this.item1.name=t,this.item1.symbol=i):this.item2.address==e&&(this.item2.name=t,this.item2.symbol=i),this.isLogin&&this.loginCallBack()},async tokenChange(e,t){t=t||this.type,"item1"==t?this.item2.address==e.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==e.address&&this.item1.address==e.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),e.price=e.price||"0",this[t]=e,this.isLogin&&this.loginCallBack()},transformHandler(){const e=(0,ut.IU)(this.item1);this.item1=(0,ut.IU)(this.item2),this.item2=e,this.isLogin&&this.loginCallBack()},maxHandler(){let e=(0,ut.IU)(this.item1.balance);if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress())){const t=mt.vz("0.002",this.item1.decimals);e=t.gt(e)?mt.vz("0"):e.sub(t)}this.item1.price=(0,Pe.qD)(mt.bM(e,this.item1.decimals)),this.price1Change("item1",!0)},async approveHandler(){this.approveLoading=!0;try{let t=this.baseRoute?.route;if(void 0==t)return;let i=this.getAccount(),s=await t.getPrep({account:i}),a=s.transaction;console.log("prep",s);let r=[this.getRouteAddress(),dt.O$.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0)],l=await(0,gt.Z)({blockchain:a.blockchain,address:a.to,method:a.method,api:a.api,params:r});try{await l.wait(),(0,ct.bM)({type:Wt("success"),title:Wt("success"),message:Wt("exchange")+Wt("success")}),this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"approve",tx:JSON.parse(JSON.stringify(l)),status:1}),await this.swapHandler()}catch(e){this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"approve",tx:JSON.parse(JSON.stringify(l)),status:0}),(0,ct.bM)({title:"提示 swapHistory",message:e.message,type:"error",duration:3e3})}await this.checkApprove()}catch(e){(0,Pe.CR)(e)}this.approveLoading=!1},async swapHandler(){console.log("swapHandler"),this.swapLoading=!0;let e=this.baseRoute?.route;if(!e)return void(this.swapLoading=!1);let t=this.getAccount(),i=await e.getTransaction({account:t});if("v3"==e.exchange.type?i.params.params.amountOutMinimum=this.amountOutMin:(this.fixPrice?i.params.amountOutMin=mt.vz(this.item2.price,this.item2.decimals):i.params.amountOutMin=this.amountOutMin,this.isAddSend&&42==this.receiveWaller.length&&(i.params.to=this.receiveWaller)),!this.checkLowerCase(i.params.path[i.params.path.length-1],this.item2.address))return void(this.swapLoading=!1);let s=mt.vz(this.gWei.toString(),9),a=null;try{let e,t={blockchain:i.blockchain,address:i.to,method:i.method,api:i.api,params:i.params,gasPrice:s};i.hasOwnProperty("value")&&(t.value=i.value);try{e=await zt(t),t.gasLimit=e.add(e.mul(35).div(100))}catch(r){}a=await(0,gt.Z)(t)}catch(r){(0,Pe.CR)(r)}if(a){try{const e=await a;try{await e.wait(),(0,ct.bM)({type:Wt("success"),title:Wt("success"),message:Wt("exchange")+Wt("success")}),this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"trade",tx:JSON.parse(JSON.stringify(e)),status:1});let t=this.item1.price;this.item1.price="",await this.loginCallBack(),this.item1.price=t}catch(r){this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"trade",tx:JSON.parse(JSON.stringify(e)),status:0}),(0,ct.bM)({title:"提示 tradeHistory",message:r.message,type:"error",duration:3e3})}localStorage.setItem(window.wallet.accounts[0]+this.currentNetwork.chains+"swapHistory",JSON.stringify(this.swapHistory))}catch(r){(0,ct.bM)({title:"提示",message:r.message,type:"error",duration:3e3})}this.swapLoading=!1}else this.swapLoading=!1},async getRoute(e){let t=dt.O$;return this.routes=await this.exchange.route({blockchain:window.wallet.getNetwork.chains,tokenIn:this.item1.address,tokenOut:this.item2.address,amountIn:"item1"==this.mainKey?e:void 0,amountOut:"item2"==this.mainKey?e:void 0}),this.routes.reduce(((e,i)=>{const s=t.from("item1"==this.mainKey?i.amountOutMin:i.amountInMax),a=s;if("item1"==this.mainKey){if(!e||a.gt(e.value))return{route:i,value:a}}else if(!e||a.lt(e.value))return{route:i,value:a};return e}),null)},async price1Change(e,t=!1){t&&(this.mainKey=e),clearTimeout(this.inputTimeout);let i=this.getPrices(e);if(!i)return;let s="item1"==e?"item2":"item1";const a=350;this.inputTimeout=setTimeout((async()=>{if(this.fixPrice)return;if(this.baseRoute=await this.getRoute(i),null==this.baseRoute)return;let e=this.baseRoute.route;this.autoDexAddress=e.exchange.router.address;var t=mt.bM(this.baseRoute.value,this[s].decimals);this[s].price=(0,Pe.ph)(t),await this.checkApprove()}),a)},async checkApprove(){if(!this.isLogin)return;let e=this.getRouteAddress(),t=this.getAccount(),i=!0;if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress()))this.hasApprove=!0;else{if(this.token0&&this.checkLowerCase(this.token0.address,this.item1.address)){let s=await this.token0.token.allowance(t,e);s.lt(this.item1.balance)&&(i=!1)}else if(this.token1&&this.checkLowerCase(this.token1.address,this.item1.address)){let s=await this.token1.token.allowance(t,e);s.lt(this.item1.balance)&&(i=!1)}this.hasApprove!=i&&(this.hasApprove=i)}},checkPathHas(){let e=this.item1.address,t=this.item2.address;if(this.pathHas.length>=2){let i=this.pathHas[0],s=this.pathHas[this.pathHas.length-1];return this.checkLowerCase(e,i)&&this.checkLowerCase(t,s)}return!1},getRouteAddress(){return this.currentConfig?.autoRoute?this.autoDexAddress:this.currentConfig?.dex?.address},async refreshPrice(){if(!this.refreshLoading){try{this.refreshLoading=!0,await this.checkApprove();let e=await this.getRoute(mt.vz("1",this.item1.decimals));if(!e)return void(this.refreshLoading=!1);if(this.useDex=e.route.exchange.label,this.autoDexAddress=e.route.exchange.router.address,this.token0=await window.wallet.getByToken(this.item1.address),this.token0?.balance?.gt(0)&&(this.item1.balance=this.token0.balance),this.token1=await window.wallet.getByToken(this.item2.address),this.token1?.balance?.gt(0)&&(this.item2.balance=this.token1.balance),this.checkPathHas()||await this.getPathNames(e.route.path),0!=this.getPrices(this.mainKey)&&(await this.getImpact(),await window.wallet.getUnitPrice([this.item1.address,this.item2.address]),this.getUsdt(this.item1.price,this.item1.address,"item1"),this.getUsdt(this.item2.price,this.item2.address,"item2")),this.chartShow){let e=await window.wallet.getHotCoins();e&&(this.rankList=e.slice(0,10))}await this.price1Change(this.mainKey),await this.checkAutoSell()}catch(e){}this.refreshLoading=!1}},async checkAutoSell(){if((!this.isAddSend||42==this.receiveWaller.length)&&this.autoSellAll){let e=this.token0.balance;e.gt(0)&&await this.sellAll()}},async sellAll(){this.maxHandler(),await this.checkApprove();let e=dt.O$.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0);if(this.hasApprove)this.item1.price>.001&&this.item2.price>.001&&0==this.swapLoading&&await this.swapHandler();else{let t=this.getAccount(),i=this.getRouteAddress(),s=await window.wallet.getByToken(this.item1.address,t);if(s&&s?.token){let t=await s.token.approve(i,e);await t.wait()}}},async getImpact(){let e=this.baseRoute?.route;if(void 0!=e)if(e.exchange&&"v2"===e.exchange.type){let t,i=this.exchange,s=e.path,a=this.getPrices("item1"),r=e.exchange[window.wallet.getNetwork.chains].router.address;for(let e=0;e<s.length-1;e++){let l=s[e],o=s[e+1],n=[l,o];const c=await i.getReserves({blockchain:window.wallet.getNetwork.chains,path:n,routeAddress:r});t=await this.calculatePriceImpactAndAmountOut(a,c.reserves,n,c.originalReserveOrder),a=t.amountOut,this.priceImpact=t.priceImpact}}else this.priceImpact=""},async calculatePriceImpactAndAmountOut(e,t,i,s){if(!e.gt(0)||2!==t.length||t.some((e=>!e.gt(0))))throw new Error("Invalid input parameters");if(2!==i.length||2!==s.length)throw new Error("Invalid path or reserve order");const[a,r]=s;let[l,o]=i[0]===a?t:t.reverse();const n=e;let c=n.mul(o).div(l.add(n));const d=c.mul(9975).div(o),m=mt.bM(d,2),h=c,p=m;return{amountOut:h,priceImpact:p}},async getPathNames(e){const t=Object.values(e),i=await Promise.all(t.map((async e=>{let{name:t,symbol:i,decimals:s,balance:a}=await window.wallet.getByToken(e);return i})));this.pathHas=e,this.pathNames=i.join(" > ")},async loginCallBack(e=!0){clearTimeout(this.loginTimeout);const t=500;this.loginTimeout=setTimeout((async()=>{this.item1.loading=e,this.item2.loading=e,await this.getItemBalance(this.item1.address,"item1"),await this.getItemBalance(this.item2.address,"item2"),await this.refreshPrice()}),t)},async getItemBalance(e,t){if(!e)return!1;if(!this.isLogin)return!1;let{name:i,symbol:s,decimals:a,balance:r}=await window.wallet.getByToken(e);return this[t].balance=r,this[t].decimals=a,this[t].name=i,this[t].symbol=s,this[t].loading=!1,{balance:r,decimals:a}},copyHandler(e){(0,nt.Z)(e),(0,ct.bM)({type:Wt("success"),title:Wt("success"),message:Wt("copy")+Wt("success")})},toggleGwei(e){this.gWei=e,window.wallet.setGasGwei(e)},openHistory(){this.$refs.history.open()},openTokensDialog(e){this.type=e,this.$refs.tokens.open([this.item1.address,this.item2.address])},swapSubmit(){this.currentConfig?.professional?this.swapHandler():this.$refs.swapConfirm.open(this.item1,this.item2)},loginFn(){this.setConnectDialog(!0)}}};const Dt=(0,it.Z)(Tt,[["render",He]]);var It=Dt,Ot={data(){return{activeName:"trade",trade:It}},components:{swapv3:It,elItem:r.Z},methods:{}};const Nt=(0,it.Z)(Ot,[["render",a]]);var Ht=Nt},6483:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcf///////7Tt8v///////////////////////yPI1ifJ1yDH1Ybi6T3P3FrX4EbR3TDM2Gzb5DTN2ivK2B/H1Zrtt7QAAAAVdFJOUwAaBzINHgMkIRTl0PdDi2J7rFKgveadq0oAAAKDSURBVFjDtZmJkoMgDEBVigfI4fX/v7qc3doKRI3Mzk6nTt+8NFFCWlXJ1bbN6zUMdV1T2ptFqXk5DK9X07bV+fXGWVrnlmdeQzqagfURFpc1NVDLPIczbvSL9UGl1hOMtLia9klciL6GIh0vSwtMINHrdYDlJYt6UFxE5iVbWLT7uNssj3YnF00TbTZO8xwxEfY1nidixZuL+jrvmHiHd0Q09XeDZ4lfiWle5+rvtx73iWlv8hyxxQv4J+jmtuA+6HsZPsh0M9wXdM+JBisjX3lpMAIOeQnfYFGQzJJzOZOCov8WIRETNTE2KQKJGVSDQvNx5FpAahGUEiEtUApIWkxRd1jAzhY3qKihQFPcFSDHcKDJcwW6S8DAesAH1pDbBArsaP0AsMcE9nVFcYG0SkVMiBCEHAN3175irlKCYtZazYL8AomYldbzsW6fBCq9rpOevcgnkJBZT+uq1UmgXvjI1kD8AFreyka+6NNAtm3MOu6Azs9eSQJTSVHSfGxzjjug9bMXpEokJVU2Qk3ug87xDQx+5m0lEmWTKmxC1BIchd1SLHAmIvgt6rhs+tytR/4dI/Dfj1y5l6PjpJUHqsBbktuVAeYeX29HuVjgIgt+5edhdOScjaP9n/dzwPwWEBw3ZoH+VW577t2eQvNbvHPcRveX9/ObVGkbjY5+FdoHu40WN/roWPbzG325Ffl3LLU3vi0u9yLRseAXG0RAO2ccOWO81H6Fdg7ScBIll0WW2rnQcEL6LyLMQ18JAjyqYDft+McK9IMP/tEM/fCIf7zFP4Cjjwjwhxj4Yxb8QRD+qAp9mPbAuA9/IIk/Mn1gqIs/dsYfjD8wun/gx4XrP3/8AfUYnCeR/F3+AAAAAElFTkSuQmCC"}}]);