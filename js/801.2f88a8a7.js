(self["webpackChunkgame"]=self["webpackChunkgame"]||[]).push([[801],{4716:function(e,t,i){"use strict";i.r(t),t["default"]=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_token0",type:"address"},{internalType:"address",name:"_token1",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"sync",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},3107:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ks}});var s=i(6440);function a(e,t,i,a,n,r){const l=(0,s.up)("elItem");return(0,s.wg)(),(0,s.j4)(l,{liquidity:n.liquidity,activeName:n.activeName},null,8,["liquidity","activeName"])}var n=i(6008);const r={class:"getting-started-page"},l={class:"getting-started-content"};function o(e,t,i,a,n,o){const d=(0,s.up)("tempAdd"),c=(0,s.up)("el-tab-pane"),m=(0,s.up)("tempManage"),p=(0,s.up)("tempRemove"),u=(0,s.up)("tempFind"),h=(0,s.up)("el-tabs");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",l,[(0,s.Wm)(h,{modelValue:n.activeName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.activeName=e),class:"home"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{label:"增加流动性",name:"add"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["add"===n.activeName?((0,s.wg)(),(0,s.j4)(d,{key:0,ref:"addLp",actModel:n.activeName,coinItem:n.coinItem,onFromChild:o.tabChange},null,8,["actModel","coinItem","onFromChild"])):(0,s.kq)("",!0)],1024))])),_:1}),(0,s.Wm)(c,{label:"查找我的LP",name:"scan"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["scan"===n.activeName?((0,s.wg)(),(0,s.j4)(m,{key:0,ref:"scanLp",scanItem:n.scanItem,actModel:n.activeName,onFromChild:o.tabChange},null,8,["scanItem","actModel","onFromChild"])):(0,s.kq)("",!0)],1024))])),_:1}),(0,s.Wm)(c,{label:"移除LP",name:"remove"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["remove"===n.activeName?((0,s.wg)(),(0,s.j4)(p,{key:0,ref:"removeLp",actModel:n.activeName,lpItem:n.lpItem,onFromChild:o.tabChange},null,8,["actModel","lpItem","onFromChild"])):(0,s.kq)("",!0)],1024))])),_:1}),(0,s.Wm)(c,{label:"查找LP",name:"find"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["find"===n.activeName?((0,s.wg)(),(0,s.j4)(u,{key:0,ref:"findLp",actModel:n.activeName,lpItem:n.lpItem,coinItem:n.coinItem,onFromChild:o.tabChange},null,8,["actModel","lpItem","coinItem","onFromChild"])):(0,s.kq)("",!0)],1024))])),_:1})])),_:1},8,["modelValue"])])])}var d=i(1040),c=i(1254),m=i(8843);const p={class:"trade"},u={class:"trade-info PB-20"},h={class:"trade-top"},w=(0,s._)("div",{class:"trade-info__title MB-10"},"增加流动性",-1),g={key:0,class:"trade-info__title-info"},v={class:"flex-row-between"},y={class:"skill-list"},f={class:"skill-item"},k=(0,s.uE)('<div class="s-title"><div class="info"><div class="title-name" style="color:rgb(129, 226, 62);"> 您是第一个流动性供应商。 </div><div class="stars-widget stars-small"> The ratio of tokens you add will set the price of this pair. </div></div></div><div class="brief"><p>如果您对汇率满意，请点击“供应”以进行检查。</p><p></p></div>',2),b={key:0,class:"brief"},_=(0,s._)("p",null,null,-1),x={class:"trade-item"},L={class:"trade-item__top flex-row-between"},T={class:"flex-row-start align-center pointer"},C={class:"trade-item__top-icon MR-10"},I={class:"trade-item__top-name text-overflow__1"},M={key:0},P=["disabled"],z={class:"trade-item__input-usdt"},S={class:"trade-item"},A={class:"trade-item__top flex-row-between"},N={class:"flex-row-start align-center pointer"},D={class:"trade-item__top-icon MR-10"},W={class:"trade-item__top-name text-overflow__1"},O={key:0},U=["disabled"],R={class:"trade-item__input-usdt"},q={class:"flex-row-between"},B={class:"skill-list"},E={class:"skill-item",style:{background:"#181818"}},j={class:"s-title"},H={class:"info"},$={class:"title-name",style:{color:"rgb(129, 226, 62)","text-align":"center"}},J=(0,s._)("div",{class:"stars-widget stars-small"},null,-1),F={class:"brief"},Z=(0,s._)("p",null,null,-1),G={class:"PL-15 PR-15 MT-5"},V={class:"flex-row-between"},Y={class:"skill-list"},K={class:"skill-item"},Q=(0,s._)("div",{class:"s-title"},[(0,s._)("div",{class:"info"},[(0,s._)("div",{class:"title-name",style:{color:"rgb(129, 226, 62)"}},"价格和份额 "),(0,s._)("div",{class:"stars-widget stars-small"})])],-1),X={key:0,class:"flex-row-start align-center"},ee={class:"text-price"},te={class:"text-price"},ie={class:"flex-row-start align-center"},se={class:"text-price"},ae={class:"text-price"},ne={key:1,class:"brief"},re=(0,s._)("p",null,"分享交易对",-1),le={class:"PL-30 PR-30 MT-15"},oe={class:"flex-row-between MB-10"},de={class:"text-white"},ce={class:"text-green"},me={style:{margin:"auto"}},pe=(0,s.uE)('<div class="PL-15 PR-15"><div class="flex-row-between"><div class="skill-list"><div class="skill-item"><div class="s-title"><div class="info"><div class="title-name" style="color:rgb(129, 226, 62);">温馨提示</div><div class="stars-widget stars-small"></div></div></div><div class="brief"><p>V2 LP - 0.25 费用级别</p></div></div></div></div></div>',1);function ue(e,t,i,a,n,r){const l=(0,s.up)("Operation"),o=(0,s.up)("el-icon"),ue=(0,s.up)("Link"),he=(0,s.up)("Clock"),we=(0,s.up)("el-button"),ge=(0,s.up)("ArrowDown"),ve=(0,s.up)("CopyDocument"),ye=(0,s.up)("Loading"),fe=(0,s.up)("el-tag"),ke=(0,s.up)("el-slider"),be=(0,s.up)("Tokens"),_e=(0,s.up)("History"),xe=(0,s.up)("RpcList"),Le=(0,s.up)("Setting"),Te=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",p,[(0,s._)("div",u,[(0,s._)("div",h,[w,r.findDex()?((0,s.wg)(),(0,s.iD)("div",g,'当前路由 "'+(0,d.zw)(r.findDex().symbol)+'"',1)):(0,s.kq)("",!0),(0,s.Wm)(o,{size:30,class:"trade-top__icon operation pointer",onClick:t[0]||(t[0]=t=>e.$refs.setting.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1}),(0,s.Wm)(o,{size:30,class:"trade-top__icon rpc pointer",onClick:t[1]||(t[1]=t=>e.$refs.rpcList.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(ue)])),_:1}),n.isLogin?((0,s.wg)(),(0,s.j4)(o,{key:1,size:30,class:"trade-top__icon right pointer",onClick:t[2]||(t[2]=t=>e.$refs.history.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(he)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,d.C_)(["PL-15 PR-15 MT-5",this.firstPair?"":"aside-hide"])},[(0,s._)("div",v,[(0,s._)("div",y,[(0,s._)("div",f,[k,n.item1.uprice>0&&n.item2.uprice>0?((0,s.wg)(),(0,s.iD)("div",b,[_,(0,s._)("p",null,[(0,s.Wm)(we,{onClick:r.maxSubmit,class:"trade-btn MB-15"},{default:(0,s.w5)((()=>[(0,s.Uk)("最佳匹配")])),_:1},8,["onClick"])])])):(0,s.kq)("",!0)])])])],2),(0,s._)("div",x,[(0,s._)("div",L,[(0,s._)("div",T,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[3]||(t[3]=e=>r.openTokensDialog("item1"))},[(0,s.wy)((0,s._)("img",C,null,512),[[Te,n.getLogo(n.item1.address)]]),(0,s._)("div",I,(0,d.zw)(n.item1.symbol),1),(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge)])),_:1})]),(0,s.Wm)(o,{class:"ML-5",onClick:t[4]||(t[4]=e=>r.copyHandler(n.item1.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(ve)])),_:1})]),n.isLogin?((0,s.wg)(),(0,s.iD)("div",M,[n.item1.loading?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(ye)])),_:1})):n.item1.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,d.zw)(n.t("balance"))+"："+(0,d.zw)(n.gotPrice(n.utils.formatUnits(n.item1.balance,n.item1.decimals),!1)),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,d.C_)(["trade-item__input MT-10 flex-row-start align-center",{"is-disabled":!n.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!n.isLogin||n.approveLoading,class:"text-right flex-1",onInput:t[5]||(t[5]=e=>r.price1Change("item1")),"onUpdate:modelValue":t[6]||(t[6]=e=>n.item1.price=e),placeholder:"0.00"},null,40,P),[[c.nr,n.item1.price]]),n.isLogin?((0,s.wg)(),(0,s.j4)(fe,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:t[7]||(t[7]=e=>r.maxHandler("item1")),type:"warning",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("MAX")])),_:1})):(0,s.kq)("",!0),(0,s._)("div",z,[(0,s.Uk)((0,d.zw)(r.getUsdt(n.item1.price,n.item1.address,"item1"))+" ",1),n.item1.usdt&&n.item1.price?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)("~$"+(0,d.zw)(n.item1.usdt),1)],64)):(0,s.kq)("",!0)])],2)]),(0,s._)("div",S,[(0,s._)("div",A,[(0,s._)("div",N,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[8]||(t[8]=e=>r.openTokensDialog("item2"))},[(0,s.wy)((0,s._)("img",D,null,512),[[Te,n.getLogo(n.item2.address)]]),(0,s._)("div",W,(0,d.zw)(n.item2.symbol),1),(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge)])),_:1})]),(0,s.Wm)(o,{class:"ML-5",onClick:t[9]||(t[9]=e=>r.copyHandler(n.item2.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(ve)])),_:1}),n.isLogin&&1==e.connectState?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ML-5 trade-item__top-wallet",src:m,onClick:t[10]||(t[10]=(...t)=>e.addTokenHandler&&e.addTokenHandler(...t))})):(0,s.kq)("",!0)]),n.isLogin?((0,s.wg)(),(0,s.iD)("div",O,[n.item2.loading?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(ye)])),_:1})):n.item2.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,d.zw)(n.t("balance"))+"："+(0,d.zw)(n.gotPrice(n.utils.formatUnits(n.item2.balance,n.item2.decimals),!0)),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,d.C_)(["trade-item__input MT-10 flex-row-start align-center",{"is-disabled":!n.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!n.isLogin||n.approveLoading,"onUpdate:modelValue":t[11]||(t[11]=e=>n.item2.price=e),class:"text-right flex-1",onInput:t[12]||(t[12]=e=>r.price1Change("item2")),placeholder:"0.00"},null,40,U),[[c.nr,n.item2.price]]),n.isLogin?((0,s.wg)(),(0,s.j4)(fe,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:t[13]||(t[13]=e=>r.maxHandler("item2")),type:"warning",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("MAX")])),_:1})):(0,s.kq)("",!0),(0,s._)("div",R,[(0,s.Uk)((0,d.zw)(r.getUsdt(n.item2.price,n.item2.address,"item2"))+" ",1),n.item2.usdt&&n.item2.price?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)("~$"+(0,d.zw)(n.item2.usdt),1)],64)):(0,s.kq)("",!0)])],2)]),this.firstPair?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,d.C_)(["PL-15 PR-15 MT-5",this.amoutEnough>0?"":"aside-hide"]),style:{}},[(0,s._)("div",q,[(0,s._)("div",B,[(0,s._)("div",E,[(0,s._)("div",j,[(0,s._)("div",H,[(0,s._)("div",$,(0,d.zw)(1==this.amoutEnough?n.item2.symbol:n.item1.symbol)+" 不足。 在增加流动性之前，您的部分 "+(0,d.zw)(1==this.amoutEnough?n.item1.symbol:n.item2.symbol)+" 将被兑换成 "+(0,d.zw)(1==this.amoutEnough?n.item2.symbol:n.item1.symbol)+"但这可能会导致价格的损失以及更高的Gas。 ",1),J])]),(0,s._)("div",F,[Z,(0,s._)("p",null,[(0,s.Wm)(we,{onClick:r.maxSubmit,class:"trade-btn MB-15"},{default:(0,s.w5)((()=>[(0,s.Uk)("最佳匹配")])),_:1},8,["onClick"])])])])])])],2)),(0,s._)("div",G,[(0,s._)("div",V,[(0,s._)("div",Y,[(0,s._)("div",K,[Q,this.item1.uprice>0&&this.item2.uprice>0?((0,s.wg)(),(0,s.iD)("div",X,[(0,s._)("div",ee,(0,d.zw)(n.gotPrice(this.item1.uprice/this.item2.uprice)),1),(0,s._)("div",te,(0,d.zw)(n.gotPrice(this.item2.uprice/this.item1.uprice)),1)])):(0,s.kq)("",!0),(0,s._)("div",ie,[(0,s._)("div",se,(0,d.zw)(this.item2.symbol)+"/"+(0,d.zw)(this.item1.symbol),1),(0,s._)("div",ae,(0,d.zw)(this.item1.symbol)+"/"+(0,d.zw)(this.item2.symbol),1)]),""!=this.sharePair?((0,s.wg)(),(0,s.iD)("div",ne,[(0,s._)("p",null,(0,d.zw)(this.sharePair),1),re])):(0,s.kq)("",!0)])])])]),(0,s._)("div",le,[(0,s._)("div",oe,[(0,s._)("div",de,(0,d.zw)(n.t("trade.slippage")),1),(0,s._)("div",ce,(0,d.zw)(n.progress)+"%",1)]),(0,s._)("div",null,[(0,s.Wm)(ke,{modelValue:n.progress,"onUpdate:modelValue":t[14]||(t[14]=e=>n.progress=e),min:1,max:99,onInput:e.progressChange},null,8,["modelValue","onInput"])])]),(0,s._)("div",me,[n.isLogin?n.item1.price?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[this.item1.hasApprove&&this.item2.hasApprove?((0,s.wg)(),(0,s.j4)(we,{key:1,class:"trade-btn MB-15",loading:n.swapLoading,onClick:r.swapSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(n.t("liquidity.exchange")),1)])),_:1},8,["loading","onClick"])):((0,s.wg)(),(0,s.j4)(we,{key:0,loading:0!=r.checkApproveLoading(),class:"trade-btn MB-15",onClick:r.approveHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)((0==r.checkApproveLoading()?n.t("approve"):n.t("approveCheck"))+" "+(this.item1.hasApprove?this.item2.symbol:this.item1.symbol)),1)])),_:1},8,["loading","onClick"]))],64)):n.item1.price?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(we,{key:2,disabled:"",class:"trade-btn MB-15"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(n.t("enterAmount")),1)])),_:1})):((0,s.wg)(),(0,s.j4)(we,{key:0,class:"trade-btn MB-15",onClick:e.loginFn},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(n.t("connectWallet")),1)])),_:1},8,["onClick"]))]),pe])]),(0,s.Wm)(be,{ref:"tokens",onChange:r.tokenChange,onUpdate:r.tokenUpdate},null,8,["onChange","onUpdate"]),(0,s.Wm)(_e,{ref:"history"},null,512),(0,s.Wm)(xe,{ref:"rpcList"},null,512),(0,s.Wm)(Le,{ref:"setting"},null,512)],64)}var he=i(5546),we=i(2762),ge=i(9239),ve=i(1279),ye=i(9657),fe=i(570),ke=i(936),be=i(9756),_e=i(2811),xe=i(6494),Le=i(1218),Te=i(6761),Ce=i(5101),Ie=i(6120),Me=i(8709),Pe=i(9011);const{t:ze}=xe["default"].global;var Se={props:{coinItem:{type:Object},actModel:{type:Object}},data(){return{t:ze,utils:ve,isLogin:!1,odlautoRoute:!1,swapHistory:[],gotPrice:ke.ph,getLogo:ke.R7,getBit:ke.qD,mainKey:"item1",swapLoading:!1,isRefreshing:!1,baseRoute:null,isPair:!1,pair:null,sharePair:"",exchange:Le.Z,useDexAddress:"",firstPair:!1,amoutEnough:0,professional:!1,swapLoading:!1,approveLoading:!1,progress:10,gWei:3,gWeiList:[3,6,9,12],item1:this.coinItem.item1,item2:this.coinItem.item2}},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:e}=this.currentNetwork,t=e[0],i=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...i},this.gWei=1*this.currentNetwork.GWEI,this.gWeiList=[1*this.currentNetwork.GWEI,2*this.currentNetwork.GWEI,3*this.currentNetwork.GWEI,4*this.currentNetwork.GWEI],this.useDexAddress=this.currentNetwork.Dex[0].address}},accountChange:{handler(e,t){this.handleAccount()},deep:!0}},components:{Tokens:we.Z,History:Ie.Z,RpcList:Me.Z,Setting:Pe.Z},computed:{...(0,be.Se)(["currentNetwork","currentConfig","accountChange","connectState"])},activated(){this.odlautoRoute=this.currentConfig.autoRoute,this.coinItem?.item1?.address&&(this.type="item1",this.$refs.tokens.fastImport(this.coinItem.item1.address,!1),this.type="item2",this.$refs.tokens.fastImport(this.coinItem.item2.address,!1));let e=localStorage.getItem("progress");this.progress=e?JSON.parse(e):10,this.isRefreshing=!0,this.handleAccount(),this.callInterval(1)},deactivated(){this.isRefreshing=!1,this.currentConfig.autoRoute=this.odlautoRoute},methods:{...(0,be.nv)(["setConfig"]),handleAccount(){let e=window.wallet.getByAccount();this.isLogin=window.wallet.isLogin,e.address||(this.isLogin=!1)},checkApproveLoading(){return(!this.item1.hasApprove||!this.item2.hasApprove)&&(this.approveLoading?1:(void 0==this.item1.hasApprove||void 0==this.item2.hasApprove)&&2)},async callInterval(e){this.callTime=setTimeout((async()=>{try{await this.refreshPrice()}catch(e){}this.isRefreshing&&this.callInterval(6e3)}),e)},async refreshPrice(){let e=this.checkPair();if(!0===e){let e=this.exchange;e&&"function"===typeof e.getReserves&&(this.pair=await e.getReserves({blockchain:window.wallet.getNetwork.chains,path:[this.item1.address,this.item2.address],routeAddress:this.useDexAddress}),!1===this.getPoolAmount(this["item1"].address,ye.O$.from(0),this.pair)?this.firstPair=!0:this.firstPair=!1)}else 1===e&&(this.firstPair=!0);await this.getItemBalance(this.item1.address,"item1"),await this.getItemBalance(this.item2.address,"item2"),this.getUsdt(this.item1.price,this.item1.address,"item1"),this.getUsdt(this.item2.price,this.item2.address,"item2")},checkPair(){if(!this.pair)return!0;let e=this.pair.path,t=e.some((e=>e.toLowerCase()===this.item1.address.toLowerCase())),i=e.some((e=>e.toLowerCase()===this.item2.address.toLowerCase()));return!t||!i||!!this.pair.reserves[0].lte(0)&&1},async getItemBalance(e,t){if(!e)return!1;if(this.isLogin=window.wallet.isLogin,!this.isLogin)return;let i=this.getAccount(),{name:s,symbol:a,decimals:n,balance:r,token:l}=await window.wallet.getByToken(e);if(this[t].balance=r,this[t].decimals=n,this[t].name=s,this[t].symbol=a,this[t].loading=!1,""!=this.useDexAddress||!this[t].hasApprove)if(this.checkString(this[t].address,window.wallet.getWrappedAddress()))this[t].hasApprove=!0;else if(""!=this.useDexAddress){let e=await l.allowance(i.address,this.useDexAddress);e.gt(r)?this[t].hasApprove=!0:this[t].hasApprove=!1}return{balance:r,decimals:n}},checkString(e,t){return e.toLowerCase()===t.toLowerCase()},async price1Change(e,t=!1){t&&(this.mainKey=e),clearTimeout(this.inputTimeout);let i=this.getPrices(e);if(!i)return;let s="item1"==e?"item2":"item1";const a=350;this.inputTimeout=setTimeout((async()=>{if(this.baseRoute=await this.getRoute(i),null==this.baseRoute)return;let t=this.exchange,a=null;t&&"function"===typeof t.getReserves&&(a=await t.getReserves({blockchain:window.wallet.getNetwork.chains,path:[this.item1.address,this.item2.address],routeAddress:this.useDexAddress}));let n=fe.vz(this.gotPrice(this[e].price),this[s].decimals);if(!1===this.getPoolAmount(this[e].address,n,a))return;console.log(a,this.baseRoute);let r=this.getPoolAmount(this[e].address,n,a);this[s].price=this.gotPrice(fe.bM(r,this[s].decimals));let l=this.checkAmount(s),o=this.checkAmount(e);this.amoutEnough=l&&o?0:o?1:2}),a)},checkAmount(e){let t=this.utils.parseUnits(this[e].price,this[e].decimals);return this[e].balance.gte(t)},async getRoute(e){let t=ye.O$;return this.routes=await this.exchange.route({blockchain:window.wallet.getNetwork.chains,tokenIn:this.item1.address,tokenOut:this.item2.address,amountIn:"item1"==this.mainKey?e:void 0,amountOut:"item2"==this.mainKey?e:void 0}),this.routes.reduce(((e,i)=>{const s=t.from("item1"==this.mainKey?i.amountOutMin:i.amountInMax),a=s;if("item1"==this.mainKey){if(!e||a.gt(e.value))return{route:i,value:a}}else if(!e||a.lt(e.value))return{route:i,value:a};return e}),null)},getPrices(e){if("undefined"==typeof this[e].price||""==this[e].price.trim())return this[e].price="",!1;let t=this[e].price.toString();const i=fe.vz("0",18);let s=fe.vz(t,this[e].decimals);return!s.lte(i)&&s},getPoolAmount(e,t,i){const s=i.originalReserveOrder,a=s.findIndex((t=>t.toLowerCase()===e.toLowerCase()));if(-1===a)return i.reserves[0].gt(0);const n=0===a?1:0,r=i.reserves[a],l=i.reserves[n],o=t.mul(l).div(r);return o},getAccount(){return window.wallet.getByAccount()},findDex(){return""==this.useDexAddress?(this.useDexAddress=this.currentNetwork.Dex[0].address,!1):this.currentNetwork.Dex.find((e=>e.address.toLowerCase()==this.useDexAddress.toLowerCase()))},openTokensDialog(e){this.type=e,this.$refs.tokens.open()},refreshPage(e,t){console.log("激活选项卡?"),this.type="item1",this.$refs.tokens.fastImport(e,!1),this.type="item2",this.$refs.tokens.fastImport(t,!1)},copyHandler(e){(0,ge.Z)(e),(0,he.bM)({type:ze("swap.success"),title:ze("swap.success"),message:ze("swap.copySuccess")})},toggleGwei(e){this.gWei=e},maxHandler(e){let t=(0,_e.IU)(this[e].balance);if(this[e].address===this.currentNetwork.MainCoin.address){const i=fe.vz("0.01",this[e].decimals);t=t.sub(i)}this[e].price=this.gotPrice(fe.bM(t,this[e].decimals)),this.price1Change(e)},getUsdt(e,t,i){if(t){var s=window.wallet.getByUnitPrice(t.toLocaleLowerCase());if(this[i].uprice=s?s.priceUsd:"0",e){var a=window.wallet.getUsdAddress();if(a.find((e=>t.toLocaleLowerCase()==e.toLowerCase())))return this[i].uprice="1",void(this[i].usdt=(0,ke.ph)(this[i].uprice*e));void 0!=this[i].uprice&&""!=this[i].uprice&&(this[i].usdt=(0,ke.ph)(this[i].uprice*e))}}},formatUnits(e,t){let i=fe.bM(e,t);return i},getAmountOut(e){if(!this[e].price)return ye.O$.from(0);let t=fe.vz(this[e].price.toString(),this[e].decimals),i=fe.vz(this[e].price.toString(),this[e].decimals),s=fe.vz(this.progress.toString(),this[e].decimals),a=fe.vz("100",this[e].decimals);return i.sub(t.mul(s).div(a))},tokenUpdate({address:e,name:t,symbol:i}){this.item1.address==e?(this.item1.name=t,this.item1.symbol=i):this.item2.address==e&&(this.item2.name=t,this.item2.symbol=i)},maxSubmit(){var e="item1",t="item2",i=fe.bM(this[e].balance,this[e].decimals),s=fe.bM(this[t].balance,this[t].decimals);if(this[e].address===window.wallet.getWrappedAddress()){const t=fe.vz("0.01",this[e].decimals);i=fe.bM(this[e].balance.sub(t),this[e].decimals)}else if(this[t].address===window.wallet.getWrappedAddress()){const e=fe.vz("0.01",this[t].decimals);s=fe.bM(this[t].balance.sub(e),this[t].decimals)}var a=i*this[e].uprice,n=s*this[t].uprice,r="";n>a?(r=a/n*s,this[t].price=this.gotPrice(r),this[e].price=this.gotPrice(i)):(r=n/a*i,this[e].price=this.gotPrice(r),this[t].price=this.gotPrice(s)),this.price1Change(e)},async tokenChange(e,t){t=t||this.type,"item1"==t?this.item2.address==e.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==e.address&&this.item1.address==e.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),e.price=e.price||"0",this[t]=e,this.item2.hasApprove=void 0,this.item1.hasApprove=void 0,this.refreshPrice(),this.price1Change("item1"==t?"item2":"item1")},async approveHandler(){this.approveLoading=!0;let e,t=ye.O$.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0);try{if(!0!==this.item1.hasApprove){let{token:i}=await window.wallet.getByToken(this.item1.address);e=await i.approve(this.useDexAddress,t)}if(!0!==this.item2.hasApprove){let{token:i}=await window.wallet.getByToken(this.item2.address);e=await i.approve(this.useDexAddress,t)}e&&await e.wait()}catch(i){(0,ke.CR)(i)}this.approveLoading=!1},swapSubmit(){this.swapHandler()},async swapHandler(){let e,t,s,a;const n=window.wallet.getByAccount()?.address,r=fe.vz(((new Date).getTime()+9e5).toString(),this.item1.decimals);let l,o=await i(1401)(`./${this.currentNetwork.ABI}`);this.swapLoading=!0;var d="";let c,m={blockchain:this.currentNetwork.chains,address:this.useDexAddress,method:d,api:o.default,params:l},p=window.wallet.getWrappedAddress();if(this.checkString(p,this.item1.address)||this.checkString(p,this.item2.address)){d=this.currentNetwork.addLiquidityETH;let i="",o="",c="";this.checkString(p,this.item1.address)?(o="item1",c="item2",e=fe.vz(this.item1.price.toString(),this.item1.decimals),s=fe.vz(this.item2.price.toString(),this.item2.decimals),i=this.item2.address):(o="item2",c="item1",s=fe.vz(this.item1.price.toString(),this.item1.decimals),e=fe.vz(this.item2.price.toString(),this.item2.decimals),i=this.item1.address),t=this.getAmountOut(c),a=this.getAmountOut(o),l={token:i,amountTokenDesired:s,amountTokenMin:t,amountETHMin:a,to:n,deadline:r},m.value=e,m.gasPrice=fe.vz(this.gWei.toString(),9)}else{d=this.currentNetwork.addLiquidity;let i=this.item2.address,o=this.item1.address;s=fe.vz(this.item1.price.toString(),this.item1.decimals),e=fe.vz(this.item2.price.toString(),this.item2.decimals),a=this.getAmountOut("item1"),t=this.getAmountOut("item2"),l={tokenA:o,tokenB:i,amountADesired:s,amountBDesired:e,amountAMin:a,amountBMin:t,to:n,deadline:r},m.gasPrice=fe.vz(this.gWei.toString(),9)}m.params=l,m.method=d;try{c=await(0,Ce.Z)(m),await c.wait(),(0,he.bM)({type:ze("swap.success"),title:ze("swap.success"),message:ze("swap.tradeSuccess")}),this.$refs.history.pushItem({action:d,item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),tx:JSON.parse(JSON.stringify(c)),status:1})}catch(u){void 0!=c&&this.$refs.history.pushItem({action:d,item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),tx:JSON.parse(JSON.stringify(c)),status:0}),(0,he.bM)({title:"提示 swapHistory",message:u.reason,type:"error",duration:3e3})}this.swapLoading=!1},async swapHandlerback(){let e,t,s,a,n,r;const l=window.wallet.accounts[0],o=fe.vz(((new Date).getTime()+9e5).toString(),this.item1.decimals);let d,c=await i(1401)(`./${this.currentNetwork.ABI}`);console.log(c);let m={blockchain:this.currentNetwork.chains,address:l,method:p,api:c.default,params:d};var p="";if(this.item1.address==this.currentNetwork.MainCoin.address||this.item2.address==this.currentNetwork){p=this.currentNetwork.addLiquidityETH;let e="",t="",i="";this.item1.address==this.currentNetwork.MainCoin.address?(t="item1",i="item2",s=fe.vz(this.item1.price.toString(),this.item1.decimals),n=fe.vz(this.item2.price.toString(),this.item2.decimals),e=this.item2.address):(t="item2",i="item1",n=fe.vz(this.item1.price.toString(),this.item1.decimals),s=fe.vz(this.item2.price.toString(),this.item2.decimals),e=this.item1.address),a=this.getAmountOut(i),r=this.getAmountOut(t),d={token:e,tokenAmount:n,amountOutMin:a,payableOutMin:r,deadline:o},m.value=s,m.gasPrice=fe.vz(this.gWei.toString(),9);try{d={token:e,tokenAmount:n,amountOutMin:a,payableOutMin:r,deadline:o},m.value=s,m.gasPrice=fe.vz(this.gWei.toString(),9)}catch(u){(0,ke.CR)(u)}}else{p=this.currentNetwork.addLiquidity;let i=this.item2.address,d=this.item1.address;n=fe.vz(this.item1.price.toString(),this.item1.decimals),s=fe.vz(this.item2.price.toString(),this.item2.decimals),r=this.getAmountOut("item1"),a=this.getAmountOut("item2"),console.log(d,i,n,s,r,a,l,o),t=await window.wallet.ContractWETH.estimateGas[p](d,i,n,s,r,a,l,o,{gasPrice:fe.vz(this.gWei.toString(),9)}),e=window.wallet.ContractWETH[p](d,i,n,s,r,a,l,o,{gasPrice:fe.vz(this.gWei.toString(),9)})}if(!e)return;await(0,Ce.Z)(m)}}},Ae=i(7650);const Ne=(0,Ae.Z)(Se,[["render",ue]]);var De=Ne;const We=e=>((0,s.dD)("data-v-1da205f0"),e=e(),(0,s.Cn)(),e),Oe={class:"trade"},Ue={class:"trade-info PB-20"},Re=We((()=>(0,s._)("div",{class:"trade-top"},[(0,s._)("div",{class:"trade-info__title MB-10"},"您的流动性"),(0,s._)("div",{class:"trade-info__title-info"},"移除流动性以收回代币")],-1))),qe={class:"filter-view"},Be=We((()=>(0,s._)("div",{class:"title"},[(0,s._)("div",{class:"space"})],-1))),Ee={key:0},je={key:0,style:{margin:"auto",width:"100%","text-align":"center"}},He={class:"title-text"},$e=We((()=>(0,s._)("span",{class:"arrow"},null,-1))),Je={class:"flex-row-start align-center"},Fe={class:"text-price text-18 text-start"},Ze={class:"flex-row-start align-center"},Ge={class:"text-price text-18 text-start"},Ve={class:"filter-content"},Ye={class:"skill-list"},Ke={class:"skill-item"},Qe={class:"flex-row-start align-center"},Xe={class:"text-price text-start"},et={class:"text-price text-end"},tt={class:"flex-row-start align-center"},it={class:"text-price text-start"},st={class:"text-price text-end"},at={class:"flex-row-start align-center"},nt=We((()=>(0,s._)("div",{class:"text-price text-start"}," Share in Trading Pair ",-1))),rt={class:"text-price text-end"},lt={class:"sub-filter-item"},ot=["onClick"],dt=We((()=>(0,s._)("span",{class:"text-inner"},"移除流动性",-1))),ct=[dt],mt={class:"sub-filter-item"},pt=["onClick"],ut=We((()=>(0,s._)("span",{class:"text-inner"},"增加流动性",-1))),ht=[ut];function wt(e,t,i,a,n,r){const l=(0,s.up)("Loading"),o=(0,s.up)("el-icon"),c=(0,s.up)("el-button");return(0,s.wg)(),(0,s.iD)("div",Oe,[(0,s._)("div",Ue,[Re,(0,s._)("div",qe,[Be,n.isLogin?((0,s.wg)(),(0,s.iD)("div",Ee,[n.loading?((0,s.wg)(),(0,s.iD)("div",je,[(0,s.Wm)(o,{class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1})])):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(this.lplist,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.pair,class:"filter-item add item-hidden"},[(0,s._)("div",{class:"filter-title",onClick:t[0]||(t[0]=e=>r.filterClick(e))},[(0,s._)("span",He,(0,d.zw)(r.findToken(e.path[0]).symbol)+"/"+(0,d.zw)(r.findToken(e.path[1]).symbol),1),$e,(0,s._)("div",Je,[(0,s._)("div",Fe,(0,d.zw)(n.gotPrice(this.formatUnits(e.balance,e.decimals))),1)]),(0,s._)("div",Ze,[(0,s._)("div",Ge," (~"+(0,d.zw)(n.gotPrice(r.findToken(e.path[0]).priceUsd*this.formatUnits(e.amount0,r.findToken(e.path[0]).decimals)+r.findToken(e.path[1]).priceUsd*this.formatUnits(e.amount1,r.findToken(e.path[1]).decimals)))+" USD) ",1)])]),(0,s._)("div",Ve,[(0,s._)("div",Ye,[(0,s._)("div",Ke,[(0,s._)("div",Qe,[(0,s._)("div",Xe," 已入池 "+(0,d.zw)(r.findToken(e.path[0]).symbol)+": ",1),(0,s._)("div",et,(0,d.zw)(n.gotPrice(this.formatUnits(e.amount0,r.findToken(e.path[0]).decimals),4)),1)]),(0,s._)("div",tt,[(0,s._)("div",it," 已入池 "+(0,d.zw)(r.findToken(e.path[1]).symbol)+": ",1),(0,s._)("div",st,(0,d.zw)(n.gotPrice(this.formatUnits(e.amount1,r.findToken(e.path[1]).decimals),4)),1)]),(0,s._)("div",at,[nt,(0,s._)("div",rt,(0,d.zw)(e.share)+"% ",1)]),(0,s._)("div",lt,[(0,s._)("a",{onClick:t=>r.removeLp(e),class:"common-button button-primary button-44 disabled"},ct,8,ot)]),(0,s._)("div",mt,[(0,s._)("a",{onClick:t=>r.addLiqudity(e),class:"common-button button-primary button-44 disabled"},ht,8,pt)])])])])])))),128)),(0,s.Wm)(c,{class:"trade-btn MB-15",loading:e.swapLoading,onClick:r.findLp},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(e.t("liquidity.find")),1)])),_:1},8,["loading","onClick"])])):(0,s.kq)("",!0)])])])}var gt={props:{scanItem:{type:Object},actModel:{type:Object}},data(){return{gotPrice:ke.ph,isLogin:!1,utils:ve,lplist:[],coinList:[],rankTimer:0,loading:!0,isRefreshing:!1,addLiqData:[],exchange:Le.Z}},computed:{...(0,be.Se)(["currentNetwork","networkList","accountChange"])},activated(){this.scanItem&&this.scanItem.reset&&(this.addLiqData=[],this.lplist=[]),this.isRefreshing=!0,this.callInterval(1)},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime)},watch:{accountChange:{handler(e,t){this.handleAccount()},deep:!0}},methods:{callInterval(e){this.callTime=setTimeout((async()=>{try{await this.refreshPrice()}catch(e){}this.isRefreshing&&this.callInterval(6e3)}),e)},handleAccount(){if(this.isLogin=window.wallet.isLogin,this.isLogin){this.addLiqData=[],this.lplist=[];try{this.refreshPrice()}catch(e){}}},async refreshPrice(){if(this.isLogin=window.wallet.isLogin,!this.isLogin)return;if(0==this.lplist.length&&0==Object.keys(this.addLiqData).length){this.loading=!0;var e=window.wallet.getByAccount()?.address,t=await window.wallet.bscScanTxlist(e);this.addLiqData=t.data.result}let i=this.exchange;if(Object.keys(this.addLiqData).length>0&&0==this.lplist.length){var s=this.addLiqData,a=[];for(var n in s)if(s[n].to!=s[n].from)if("0xf305d719"==s[n].methodId&&1==s[n].txreceipt_status){let e=s[n].input.slice(34,74);var r=window.wallet.getWrappedAddress();s[n].tokenA="0x"+e,s[n].tokenB=r;let t=s[n].to,i=[s[n].tokenA,s[n].tokenB].sort(),l=a.some((e=>e.path.length===i.length&&i.every(((t,i)=>t===e.path[i]))&&e.routeAddress===t));l||a.push({path:i,routeAddress:t})}else if("0xe8e33700"==s[n].methodId&&1==s[n].txreceipt_status){let e=s[n].input.slice(34,74);r=s[n].input.slice(98,138);s[n].tokenA="0x"+e,s[n].tokenB="0x"+r;let t=s[n].to,i=[s[n].tokenA,s[n].tokenB].sort(),l=a.some((e=>e.path.length===i.length&&i.every(((t,i)=>t===e.path[i]))&&e.routeAddress===t));l||a.push({path:i,routeAddress:t})}if(a.length>0){let e=a.map((e=>i.getReserves({blockchain:window.wallet.getNetwork.chains,path:e.path,routeAddress:e.routeAddress}))),t=await Promise.all(e);a=t.filter((e=>!1!==e));let s=[];a.forEach((e=>{let t=e.path;t.forEach((e=>{let t=s.findIndex((t=>t==e));-1==t&&s.push(e)}));let i=s.findIndex((t=>t==e.pair));-1==i&&s.push(e.pair)})),e=s.map((e=>window.wallet.getByToken(e)));let n=await Promise.all(e);n=n.filter((e=>e.balance.gt(0))),a=a.filter((e=>{let t=n.find((t=>t.address.toLowerCase()==e.pair.toLowerCase()));if(t)return e.balance=t.balance,e.decimals=t.decimals,e.share=t.balance.mul(10**6).div(e.totalSupply)/1e4,e.amount0=t.balance.mul(e.reserves[0]).div(e.totalSupply),e.amount1=t.balance.mul(e.reserves[1]).div(e.totalSupply),!0}));let r=await window.wallet.getUnitPrice(s);if(r?.forEach((e=>{let t=n.find((t=>t.address.toLowerCase()==e.address.toLowerCase()));t&&(t.priceUsd=e.priceUsd)})),n.forEach((e=>{let t=this.coinList.find((t=>t.address.toLowerCase()==e.address.toLowerCase()));t||this.coinList.push(e)})),a.length>0)while(a.length>0){var l=a.shift(),o=this.lplist.findIndex((e=>e.pair==l.pair));-1==o?this.lplist.push(l):this.lplist[o]=l}}}this.loading=!1},findToken(e){let t=this.coinList.find((t=>t.address.toLowerCase()==e.toLowerCase()));return t||window.wallet.getByToken(e).then((t=>{if(t)return this.coinList.find((e=>e.address.toLowerCase()==t.address.toLowerCase()))||(this.coinList.push(t),window.wallet.getUnitPrice([e]).then((e=>{e?.forEach((e=>{let t=this.coinList.find((t=>t.address.toLowerCase()==e.address.toLowerCase()));t&&(t.priceUsd=e.priceUsd)}))}))),t}))},addLiqudity(e){e.token0=this.coinList.find((t=>t.address.toLowerCase()==e.path[0].toLowerCase())),e.token1=this.coinList.find((t=>t.address.toLowerCase()==e.path[1].toLowerCase())),this.$emit("fromChild","add",e)},findLp(){this.$emit("fromChild","find")},clearTimer(){this.loading=!0,clearInterval(this.rankTimer)},resetItem(){this.addLiqData={},this.lplist={}},removeLp(e){e.token0=this.coinList.find((t=>t.address.toLowerCase()==e.path[0].toLowerCase())),e.token1=this.coinList.find((t=>t.address.toLowerCase()==e.path[1].toLowerCase())),this.$emit("fromChild","remove",e)},gotFixed(e,t=!1){return e=window.wallet.gotFixed(e,t),"number"==typeof t?(e-0).toFixed(t):window.wallet.gotFixed(e,t)},formatUnits(e,t){let i=fe.bM(e,t);return i},filterHidder(e,t){e.currentTarget.className.includes("checkbox-item")&&(e.currentTarget.className="common-checkbox checkbox-item"==e.currentTarget.className?"common-checkbox checkbox-item selected":"common-checkbox checkbox-item"),t.hidden=e.currentTarget.className.includes("selected")},filterClick(e){e.currentTarget.parentElement.className.includes("filter-item")&&(e.currentTarget.parentElement.className="filter-item add"==e.currentTarget.parentElement.className?"filter-item add item-hidden":"filter-item add")}}};const vt=(0,Ae.Z)(gt,[["render",wt],["__scopeId","data-v-1da205f0"]]);var yt=vt;const ft=e=>((0,s.dD)("data-v-4fa800ae"),e=e(),(0,s.Cn)(),e),kt={class:"trade"},bt={key:0,class:"trade-info PB-20"},_t={class:"trade-top"},xt={class:"trade-info__title MB-10"},Lt={class:"trade-info__title-info"},Tt={class:"filter-view remove"},Ct={class:"title"},It=ft((()=>(0,s._)("div",{class:"space"},null,-1))),Mt={class:"filter-item add item-hidden"},Pt={class:"filter-title"},zt={class:"title-text"},St={class:"PL-5 PR-5 MT-5"},At={class:"trade-slippage PL-5 PR-5 MT-5"},Nt={class:"trade-slippage__select flex-row-between pointer"},Dt={class:"flex-row-center",style:{width:"100%"}},Wt=(0,s.uE)('<div class="filter-content" data-v-4fa800ae><div class="skill-list" data-v-4fa800ae><div class="skill-item" data-v-4fa800ae><div class="flex-row-start align-center" data-v-4fa800ae><div class="text-price text-start" data-v-4fa800ae> 已入池 </div><div class="text-price text-end" data-v-4fa800ae></div></div><div class="flex-row-start align-center" data-v-4fa800ae><div class="text-price text-start" data-v-4fa800ae> 已入池 </div><div class="text-price text-end" data-v-4fa800ae></div></div><div class="flex-row-start align-center" data-v-4fa800ae><div class="text-price text-start" data-v-4fa800ae> Share in Trading Pair </div><div class="text-price text-end" data-v-4fa800ae></div></div><div class="sub-filter-item" data-v-4fa800ae><a class="common-button button-primary button-44 disabled" data-v-4fa800ae><span class="text-inner" data-v-4fa800ae>移除流动性</span></a></div><div class="sub-filter-item" data-v-4fa800ae><a class="common-button button-primary button-44 disabled" data-v-4fa800ae><span class="text-inner" data-v-4fa800ae>增加流动性</span></a></div></div></div></div>',1),Ot={class:"filter-item"},Ut={class:"skill-list move"},Rt={class:"skill-item"},qt={class:"sub-filter-item"},Bt={class:"flex-row-start align-center"},Et={class:"text-price text-start"},jt={class:"text-price text-end"},Ht={class:"sub-filter-item"},$t={class:"flex-row-start align-center"},Jt={class:"text-price text-start"},Ft={class:"text-price text-end"},Zt={class:"filter-item"},Gt={class:"skill-list move"},Vt={class:"skill-item"},Yt={class:"sub-filter-item"},Kt={class:"flex-row-start align-center"},Qt={class:"text-price text-start"},Xt={class:"text-price text-end"},ei={class:"sub-filter-item"},ti={class:"flex-row-start align-center"},ii={class:"text-price text-start"},si={class:"text-price text-end"},ai={class:"sub-filter-item buttons"},ni=ft((()=>(0,s._)("span",{class:"text-inner"},"移除",-1)));function ri(e,t,i,a,n,r){const l=(0,s.up)("el-slider"),o=(0,s.up)("el-tag"),c=(0,s.up)("el-button");return(0,s.wg)(),(0,s.iD)("div",kt,[i.lpItem.pair?((0,s.wg)(),(0,s.iD)("div",bt,[(0,s._)("div",_t,[(0,s._)("div",xt,"移除"+(0,d.zw)(i.lpItem.token0.symbol)+"-"+(0,d.zw)(i.lpItem.token1.symbol)+" 流动性",1),(0,s._)("div",Lt,"接收 "+(0,d.zw)(i.lpItem.token0.symbol)+" 和 "+(0,d.zw)(i.lpItem.token1.symbol),1)]),(0,s._)("div",Tt,[(0,s._)("div",Ct,[(0,s.Uk)(" 金额 "),It,(0,s._)("a",{class:"dropdown common-button button-black button-30",onClick:t[0]||(t[0]=(...e)=>r.goback&&r.goback(...e))},"刷新")]),(0,s._)("div",Mt,[(0,s._)("div",Pt,[(0,s._)("span",zt,(0,d.zw)(n.progress)+"%",1)]),(0,s._)("div",St,[(0,s._)("div",null,[(0,s.Wm)(l,{modelValue:n.progress,"onUpdate:modelValue":t[1]||(t[1]=e=>n.progress=e),min:1,max:100,onInput:e.progressChange},null,8,["modelValue","onInput"])])]),(0,s._)("div",At,[(0,s._)("div",Nt,[(0,s._)("div",Dt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.gWeiList,(e=>((0,s.wg)(),(0,s.j4)(o,{class:"trade-slippage__select-tag",type:"success",effect:n.progress==e?"dark":"light",onClick:t=>r.toggleGwei(e),key:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(e),1)])),_:2},1032,["effect","onClick"])))),128))])])]),Wt]),(0,s._)("div",Ot,[(0,s.Uk)(" 接收 "),(0,s._)("div",Ut,[(0,s._)("div",Rt,[(0,s._)("div",qt,[(0,s._)("div",Bt,[(0,s._)("div",Et,(0,d.zw)(i.lpItem.token0.symbol),1),(0,s._)("div",jt,(0,d.zw)(n.gotPrice(n.progress/100*this.formatUnits(i.lpItem.amount0,i.lpItem.token0.decimals),4)),1)])]),(0,s._)("div",Ht,[(0,s._)("div",$t,[(0,s._)("div",Jt,(0,d.zw)(i.lpItem.token1.symbol),1),(0,s._)("div",Ft,(0,d.zw)(n.gotPrice(n.progress/100*this.formatUnits(i.lpItem.amount1,i.lpItem.token1.decimals),4)),1)])])])])]),(0,s._)("div",Zt,[(0,s.Uk)(" 价格 "),(0,s._)("div",Gt,[(0,s._)("div",Vt,[(0,s._)("div",Yt,[(0,s._)("div",Kt,[(0,s._)("div",Qt," 1 "+(0,d.zw)(i.lpItem.token0.symbol)+" = ",1),(0,s._)("div",Xt,(0,d.zw)(n.gotPrice(i.lpItem.reserves[1]/i.lpItem.reserves[0]))+" "+(0,d.zw)(i.lpItem.token1.symbol),1)])]),(0,s._)("div",ei,[(0,s._)("div",ti,[(0,s._)("div",ii," 1 "+(0,d.zw)(i.lpItem.token1.symbol)+" = ",1),(0,s._)("div",si,(0,d.zw)(n.gotPrice(i.lpItem.reserves[0]/i.lpItem.reserves[1]))+" "+(0,d.zw)(i.lpItem.token0.symbol),1)])])])])]),(0,s._)("div",ai,[(0,s.Wm)(c,{loading:n.approveLoading,onClick:r.swapSubmit,class:"common-button button-primary button-44 disabled"},{default:(0,s.w5)((()=>[ni])),_:1},8,["loading","onClick"])])])])):(0,s.kq)("",!0)])}var li=i(9404),oi=i(4716);const{t:di}=xe["default"].global;var ci={props:{lpItem:{type:Object},actModel:{type:Object}},data(){return{t:di,gotPrice:ke.ph,checkLowerCase:ke.YG,progress:50,gWei:5,gWeiList:[25,50,75,100],balanceTimer:0,approveLoading:!1,approveTimer:0}},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){this.gWei=5*this.currentNetwork.GWEI}}},mounted(){console.log(this.lpItem,"lpItem");const e=localStorage.getItem("progress");this.progress=e?JSON.parse(e):50},computed:{...(0,be.Se)(["currentNetwork","networkList","currentDex"])},methods:{async swapHandler(){this.approveLoading=!1;var e="",t=window.wallet.getByAccount()?.address;let i=(new Date).getTime()+9e5;var s=t;const a=window.wallet.initContract(this.lpItem.pair,oi["default"]),n=window.wallet.initContract(this.lpItem.routeAddress,Te.Z[window.wallet.getNetwork.chains].ROUTER),r=await a.nonces(s);var l=this.formatUnits(this.lpItem.balance.mul(this.progress).div(100),0);let o={owner:t,spender:this.lpItem.routeAddress,value:this.formatUnits(l,0),nonce:r,deadline:i};const d=async(e,t,i,s,a,n,r,l,o)=>{const d={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},c={name:o,version:"1",chainId:l,verifyingContract:t},m={owner:i,spender:s,value:a,nonce:n,deadline:r},p=await e._signTypedData(c,d,m),u=li.N(p);return u},c=window.wallet.getByAccount()?.providers;try{let e=await a.name();var m=await d(c,this.lpItem.pair,o.owner,o.spender,o.value,o.nonce,o.deadline,this.currentNetwork.ChainID,e)}catch(b){return void(this.approveLoading=!1)}let p,u;if(this.checkLowerCase(this.lpItem.originalReserveOrder[0],window.wallet.getWrappedAddress())||this.checkLowerCase(window.wallet.getWrappedAddress(),this.lpItem.originalReserveOrder[1])){var h,w,g;e=this.currentNetwork.removeLiquidityETH,this.checkLowerCase(this.lpItem.originalReserveOrder[0],window.wallet.getWrappedAddress())?(w=this.lpItem.amount0,g=this.lpItem.amount1,h=this.lpItem.originalReserveOrder[1]):(w=this.lpItem.amount1,g=this.lpItem.amount0,h=this.lpItem.originalReserveOrder[0]),w=w.mul(this.progress).div(100),g=g.mul(this.progress).div(100),w=w.mul(70).div(100),g=g.mul(70).div(100),u=await n.estimateGas[e](h,o.value,g,w,t,o.deadline,!1,m.v,m.r,m.s,{gasPrice:fe.vz(this.gWei.toString(),9)}),p=n[e](h,o.value,g,w,t,o.deadline,!1,m.v,m.r,m.s)}else{e=this.currentNetwork.removeLiquidity;var v,y,f=this.lpItem.originalReserveOrder[0],k=this.lpItem.originalReserveOrder[1];v=this.lpItem.amount0.mul(this.progress).div(100),v=v.mul(70).div(100),y=this.lpItem.amount1.mul(this.progress).div(100),y=y.mul(70).div(100),u=await n.estimateGas[e](f,k,o.value,v,y,t,o.deadline,!1,m.v,m.r,m.s,{gasPrice:fe.vz(this.gWei.toString(),9)}),p=n[e](f,k,o.value,v,y,t,o.deadline,!1,m.v,m.r,m.s,{gasPrice:fe.vz(this.gWei.toString(),9),gasLimit:u.add(u.mul(35).div(100))})}if(p){try{const e=await p;try{await e.wait(),(0,he.bM)({type:di("swap.success"),title:di("swap.success"),message:di("swap.tradeSuccess")})}catch(_){(0,ke.CR)(_)}}catch(_){(0,ke.CR)(_)}this.approveLoading=!1}},swapSubmit(){this.swapHandler()},clearTimer(){clearInterval(this.approveTimer)},goback(){this.$emit("fromChild","scan",{reset:!0})},formatUnits(e,t){let i=fe.bM(e,t);return i},async resetItem(){},toggleGwei(e){this.progress=e}}};const mi=(0,Ae.Z)(ci,[["render",ri],["__scopeId","data-v-4fa800ae"]]);var pi=mi;const ui=e=>((0,s.dD)("data-v-84e3f450"),e=e(),(0,s.Cn)(),e),hi={class:"trade"},wi={class:"trade-info PB-20",style:{width:"500px"}},gi=ui((()=>(0,s._)("div",{class:"trade-top"},[(0,s._)("div",{class:"trade-info__title MB-10"},"导入流动性池"),(0,s._)("div",{class:"trade-info__title-info"},"导入现有流动性池")],-1))),vi={class:"trade-item"},yi={class:"trade-item__top trade-item__input flex-row-between"},fi={class:"flex-row-start align-center pointer"},ki={class:"trade-item__top-icon MR-10"},bi={class:"trade-item__top-name text-overflow__1"},_i={class:"trade-item"},xi={class:"trade-item__top trade-item__input flex-row-between"},Li={class:"flex-row-start align-center pointer"},Ti={class:"trade-item__top-icon MR-10"},Ci={class:"trade-item__top-name text-overflow__1"},Ii={class:"filter-view"},Mi={class:"title-text"},Pi=ui((()=>(0,s._)("span",{class:"arrow"},null,-1))),zi={class:"flex-row-start align-center"},Si={class:"text-price text-18 text-start"},Ai={class:"flex-row-start align-center"},Ni={class:"text-price text-18 text-start"},Di={class:"filter-content"},Wi={class:"skill-list"},Oi={class:"skill-item"},Ui={class:"flex-row-start align-center"},Ri={class:"text-price text-start"},qi={class:"text-price text-end"},Bi={class:"flex-row-start align-center"},Ei={class:"text-price text-start"},ji={class:"text-price text-end"},Hi={class:"flex-row-start align-center"},$i=ui((()=>(0,s._)("div",{class:"text-price text-start"}," Share in Trading Pair ",-1))),Ji={class:"text-price text-end"},Fi={class:"sub-filter-item"},Zi=["onClick"],Gi=ui((()=>(0,s._)("span",{class:"text-inner"},"移除流动性",-1))),Vi=[Gi],Yi={class:"sub-filter-item"},Ki=["onClick"],Qi=ui((()=>(0,s._)("span",{class:"text-inner"},"增加流动性",-1))),Xi=[Qi],es={class:"PL-15 PR-15"},ts={class:"flex-row-between"},is={class:"skill-list"},ss={class:"skill-item"},as=ui((()=>(0,s._)("div",{class:"s-title"},[(0,s._)("div",{class:"info"},[(0,s._)("div",{class:"title-name",style:{color:"rgb(129, 226, 62)"}},"温馨提示"),(0,s._)("div",{class:"stars-widget stars-small"})])],-1))),ns={class:"brief"},rs=ui((()=>(0,s._)("p",null,"选择代币以查找您的流动性。",-1))),ls=ui((()=>(0,s._)("p",{class:"PT-15"},null,-1)));function os(e,t,i,a,n,r){const l=(0,s.up)("ArrowDown"),o=(0,s.up)("el-icon"),c=(0,s.up)("CopyDocument"),p=(0,s.up)("el-button"),u=(0,s.up)("Tokens"),h=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",hi,[(0,s._)("div",wi,[gi,(0,s._)("div",vi,[(0,s._)("div",yi,[(0,s._)("div",fi,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[0]||(t[0]=e=>r.openTokensDialog("item1"))},[(0,s.wy)((0,s._)("img",ki,null,512),[[h,n.getLogo(n.item1.address)]]),(0,s._)("div",bi,(0,d.zw)(n.item1.symbol),1),(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1})]),(0,s.Wm)(o,{class:"ML-5",onClick:t[1]||(t[1]=e=>r.copyHandler(n.item1.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1})])])]),(0,s._)("div",_i,[(0,s._)("div",xi,[(0,s._)("div",Li,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[2]||(t[2]=e=>r.openTokensDialog("item2"))},[(0,s.wy)((0,s._)("img",Ti,null,512),[[h,n.getLogo(n.item2.address)]]),(0,s._)("div",Ci,(0,d.zw)(n.item2.symbol),1),(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1})]),(0,s.Wm)(o,{class:"ML-5",onClick:t[3]||(t[3]=e=>r.copyHandler(n.item2.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1}),n.isLogin&&1==n.connectState?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ML-5 trade-item__top-wallet",src:m,onClick:t[4]||(t[4]=(...t)=>e.addTokenHandler&&e.addTokenHandler(...t))})):(0,s.kq)("",!0)])])]),(0,s._)("div",Ii,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.lplist,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.token0.address,class:"filter-item add item-hidden"},[(0,s._)("div",{class:"filter-title",onClick:t[5]||(t[5]=e=>r.filterClick(e))},[(0,s._)("span",Mi,(0,d.zw)(e.token0.symbol)+"/"+(0,d.zw)(e.token1.symbol),1),Pi,(0,s._)("div",zi,[(0,s._)("div",Si,(0,d.zw)(n.gotPrice(this.formatUnits(e.balance,e.decimals))),1)]),(0,s._)("div",Ai,[(0,s._)("div",Ni," (~"+(0,d.zw)(n.gotPrice(e.token0.uprice*this.formatUnits(e.token0.amount,e.token0.decimals)+e.token1.uprice*this.formatUnits(e.token1.amount,e.token1.decimals)))+" USD) ",1)])]),(0,s._)("div",Di,[(0,s._)("div",Wi,[(0,s._)("div",Oi,[(0,s._)("div",Ui,[(0,s._)("div",Ri," 已入池 "+(0,d.zw)(e.token0.symbol)+": ",1),(0,s._)("div",qi,(0,d.zw)(n.gotPrice(this.formatUnits(e.token0.amount,e.token0.decimals),4)),1)]),(0,s._)("div",Bi,[(0,s._)("div",Ei," 已入池 "+(0,d.zw)(e.token1.symbol)+": ",1),(0,s._)("div",ji,(0,d.zw)(n.gotPrice(this.formatUnits(e.token1.amount,e.token1.decimals),4)),1)]),(0,s._)("div",Hi,[$i,(0,s._)("div",Ji,(0,d.zw)(n.gotPrice(e.share))+"% ",1)]),(0,s._)("div",Fi,[(0,s._)("a",{onClick:t=>r.removeLp(e),class:"common-button button-primary button-44 disabled"},Vi,8,Zi)]),(0,s._)("div",Yi,[(0,s._)("a",{onClick:t=>r.addLiqudity(e),class:"common-button button-primary button-44 disabled"},Xi,8,Ki)])])])])])))),128))]),(0,s._)("div",es,[(0,s._)("div",ts,[(0,s._)("div",is,[(0,s._)("div",ss,[as,(0,s._)("div",ns,[rs,ls,(0,s._)("p",null,[(0,s.Wm)(p,{onClick:r.selectPair,class:"trade-btn MB-15",loading:n.scanPair},{default:(0,s.w5)((()=>[(0,s.Uk)("搜索")])),_:1},8,["onClick","loading"])])])])])])])])]),(0,s.Wm)(u,{ref:"tokens",onChange:r.tokenChange,onUpdate:r.tokenUpdate},null,8,["onChange","onUpdate"])],64)}const{t:ds}=xe["default"].global;let cs="0x55d398326f99059fF775485246999027B3197955";const ms="0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56";var ps={props:{coinItem:{type:Object},actModel:{type:Object}},data(){return{t:ds,gotPrice:ke.ph,utils:ve,exchange:Le.Z,getLogo:ke.R7,getBit:ke.qD,isPair:!1,scanPair:!1,chartShow:!1,firstPair:{flag:!0,reserve0:0,reserve1:0,sharePair:"",balance:0},amoutEnough:0,professional:!1,swapLoading:!1,approveLoading:!1,activeName:"Swap",progress:10,isLogin:!1,hDex:"",gWei:5,gWeiList:[5,7,10,20],token_security:{buy_tax:"0",sell_tax:"0",is_honeypot:!1,cannot_sell_all:!1,is_open_source:!0,hidden_owner:!1,owner_address:"",is_owner:!0,lp_lost:"",is_proxy:!1,slippage_modifiable:!1},swapHistory:[],type:"",timer:0,balanceTimer:0,rankTimer:0,scanTimer:0,lplist:[],connectState:"",item1:this.coinItem.item1,item2:this.coinItem.item2}},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:e}=this.currentNetwork,t=e[0],i=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...i},this.gWei=1*this.currentNetwork.GWEI,this.gWeiList=[1*this.currentNetwork.GWEI,2*this.currentNetwork.GWEI,3*this.currentNetwork.GWEI,4*this.currentNetwork.GWEI]}}},created(){},mounted(){const e=localStorage.getItem("progress");this.progress=e?JSON.parse(e):10,this.exchange=Le.Z},components:{Tokens:we.Z},computed:{...(0,be.Se)(["currentNetwork","networkList","currentConfig"])},methods:{openTokensDialog(e){this.type=e,this.$refs.tokens.open()},refreshPage(e,t){this.type="item1",this.$refs.tokens.fastImport(e,!1),this.type="item2",this.$refs.tokens.fastImport(t,!1)},removeLp(e){this.$emit("fromChild","remove",e)},addLiqudity(e){this.$emit("fromChild","add",e)},filterHidder(e,t){e.currentTarget.className.includes("checkbox-item")&&(e.currentTarget.className="common-checkbox checkbox-item"==e.currentTarget.className?"common-checkbox checkbox-item selected":"common-checkbox checkbox-item"),t.hidden=e.currentTarget.className.includes("selected")},filterClick(e){e.currentTarget.parentElement.className.includes("filter-item")&&(e.currentTarget.parentElement.className="filter-item add"==e.currentTarget.parentElement.className?"filter-item add item-hidden":"filter-item add")},copyHandler(e){(0,ge.Z)(e),(0,he.bM)({type:ds("swap.success"),title:ds("swap.success"),message:ds("swap.copySuccess")})},checkString(e,t){return e.toLowerCase()===t.toLowerCase()},async selectPair(){this.scanPair=!0,this.lplist=[];let e=[this.item1.address,this.item2.address],t=this.exchange,i=this.currentConfig?.autoRoute?"":this.currentConfig?.dex?.address;const s=await t.getReserves({blockchain:window.wallet.getNetwork.chains,path:e,routeAddress:i});if(s?.pair){let e=await window.wallet.getByToken(s.pair);if(console.log(e),e&&e.balance.gt(0)){let t=await window.wallet.getUnitPrice(s.path);await this.setLpItem(s,e,t)}}this.scanPair=!1},async setLpItem(e,t,i){let s=e;i?(s.token0=i.find((t=>this.checkString(t.address,e.originalReserveOrder[0]))),s.token1=i.find((t=>this.checkString(t.address,e.originalReserveOrder[1]))),s.token0.uprice=s.token0.priceUsd,s.token1.uprice=s.token1.priceUsd):(await window.wallet.getByToken(e.pair),s.token0=await window.wallet.getByToken(e.originalReserveOrder[0]),s.token1=await window.wallet.getByToken(e.originalReserveOrder[1]),s.token0.uprice=0,s.token1.uprice=0),s.balance=t.balance,s.decimals=t.decimals,s.share=t.balance.mul(10**6).div(e.totalSupply)/1e4,s.token0.amount=t.balance.mul(e.reserves[0]).div(e.totalSupply),s.token1.amount=t.balance.mul(e.reserves[1]).div(e.totalSupply),s.amount0=t.balance.mul(e.reserves[0]).div(e.totalSupply),s.amount1=t.balance.mul(e.reserves[1]).div(e.totalSupply),this.lplist.push(s)},toggleGwei(e){this.gWei=e},cancelSubmit(){this.item1.price="",this.item2.price=""},getUsdt(e,t,i){e&&t.toLocaleLowerCase()!=ms.toLocaleLowerCase()&&t.toLocaleLowerCase()!=cs.toLocaleLowerCase()?this[i].usdt=(0,ke.qD)(this[i].price*this[i].uprice,3):this[i].usdt=""},formatUnits(e,t){let i=fe.bM(e,t);return i},getAmountOut(e){if(!this[e].price)return ye.O$.from(0);let t=fe.vz(this[e].price.toString(),this[e].decimals),i=fe.vz(this[e].price.toString(),this[e].decimals),s=fe.vz(this.progress.toString(),this[e].decimals),a=fe.vz("100",this[e].decimals);return i.sub(t.mul(s).div(a))},tokenUpdate({address:e,name:t,symbol:i}){this.item1.address==e?(this.item1.name=t,this.item1.symbol=i):this.item2.address==e&&(this.item2.name=t,this.item2.symbol=i)},async tokenChange(e,t){t=t||this.type,"item1"==t?this.item2.address==e.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==e.address&&this.item1.address==e.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),e.price=e.price||"0",this[t]=e}}};const us=(0,Ae.Z)(ps,[["render",os],["__scopeId","data-v-84e3f450"]]);var hs=us,ws={data(){return{activeName:"add",scanItem:!1,coinItem:{item1:{},item2:{}},lpItem:"123"}},computed:{},components:{tempAdd:De,tempManage:yt,tempRemove:pi,tempFind:hs},methods:{async tabChange(e,t){switch(this.activeName=e,console.log("liquidity.vue tabChange",e,t),e){case"add":this.coinItem.item1.address=t.path[0],this.coinItem.item2.address=t.path[1];break;case"scan":this.scanItem=t;break;case"remove":this.lpItem=t;break}}}};const gs=(0,Ae.Z)(ws,[["render",o]]);var vs=gs,ys={data(){return{activeName:"liquidity",liquidity:vs}},components:{elLiquidity:vs,elItem:n.Z},methods:{}};const fs=(0,Ae.Z)(ys,[["render",a]]);var ks=fs},1401:function(e,t,i){var s={"./ERC20":[6557,9,557],"./ERC20.js":[6557,9,557],"./IERC20":[1696,3],"./IERC20.json":[1696,3],"./IUniswapV2":[6413,9,413],"./IUniswapV2.js":[6413,9,413],"./SwapHelper":[7488,3,488],"./SwapHelper.json":[7488,3,488],"./TeaFactory":[2223,3,223],"./TeaFactory.json":[2223,3,223],"./TeaFarm":[9465,3,465],"./TeaFarm.json":[9465,3,465],"./amo":[1262,3,262],"./amo.json":[1262,3,262],"./doge":[8537,3,537],"./doge.json":[8537,3,537],"./dor":[1337,3,337],"./dor.json":[1337,3,337],"./getPair":[5564,9,564],"./getPair.js":[5564,9,564],"./lock":[7831,9,831],"./lock.js":[7831,9,831],"./network":[1010,9],"./network.js":[1010,9],"./pool":[4716,9],"./pool.js":[4716,9],"./presale":[9457,3,457],"./presale.json":[9457,3,457],"./staking":[5751,9,751],"./staking.js":[5751,9,751],"./teafi":[179,9,179],"./teafi.js":[179,9,179],"./teaficoin":[3895,9,895],"./teaficoin.js":[3895,9,895],"./weth":[5662,9,662],"./weth.js":[5662,9,662]};function a(e){if(!i.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],a=t[0];return Promise.all(t.slice(2).map(i.e)).then((function(){return i.t(a,16|t[1])}))}a.keys=function(){return Object.keys(s)},a.id=1401,e.exports=a}}]);