"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[886],{3597:function(t,a,e){e.r(a),e.d(a,{default:function(){return Va}});var s=e(6440);const i={class:"layout"},n={class:"layout-inner"},l={class:"container"},c={class:"dashboard-page"};const o={class:"getting-started-page"},r={class:"getting-started-content"},d={class:"dashboard-item stakes datas-view"},g={class:"tabs-view"};var m=e(6494),u=e(1040),w=e(1254),k=e.p+"img/logo-sxd.1d60ba28.png";const h={class:"datas-list"},v={class:"data-item"},p={class:"icon"},f={class:"value"},y={class:"value-title"},C={key:0,class:"value-text"},D=(0,s._)("span",null,"≈ $0",-1),A={class:"data-item"},b={class:"icon"},_={class:"value"},P={class:"value-title"},I={key:0,class:"value-text"},T=(0,s._)("span",null,"≈ $0",-1),R={class:"data-item"},B={class:"icon"},S={class:"value"},L={class:"value-title"},z={key:0,class:"value-text"},U=(0,s._)("span",null,"≈ $0",-1),F={class:"avg-prices"},N=(0,s._)("div",{class:"title"},null,-1),q={class:"price-list"},W={key:0,class:"price-item"},X={class:"item-title"},V={class:"values"},Y={class:"item-value"},E={class:"tag common-tag-border common-tag-theme-green"},J={class:"price-value"},Q=["src"],x={key:0,class:"amount"},H=(0,s._)("span",{class:"usd-value"},null,-1),Z={class:"item-value"},K={class:"tag common-tag-border common-tag-theme-yellow"},M={class:"price-value"},G=["src"],O={key:0,class:"amount"},j={class:"item-value"},$={class:"price-item"},tt={class:"item-title"},at={class:"values"},et={class:"item-value"},st={class:"tag common-tag-border common-tag-theme-green"},it={class:"price-value"},nt={key:0,class:"amount"},lt=(0,s._)("span",{class:"usd-value"},null,-1),ct={class:"item-value"},ot={class:"tag common-tag-border common-tag-theme-yellow"},rt={class:"price-value"},dt=["src"],gt={key:0,class:"amount"},mt={class:"cat-page"},ut={class:"detail-info"},wt={class:"info-inner"},kt={class:"info-comp clearfix"},ht={class:"aside-left"},vt=(0,s.uE)('<div class="cover-view" style="display:none;"><div class="tags"><span class="common-tag-bg common-tag-theme-bg-pink">Head</span></div><div class="stars"><div class="stars-widget stars-large"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAAXNSR0IArs4c6QAABN9JREFUSEutll2IVVUUx39rn3vvzB1vjo6JaZewICyyHioqKYoeog8YkiIxEnorCyoKoiLCD1SS8CEiyJGIiqiXigKJgooQ6iHtw0woooLxo8acaZz7cT723ivWuVdpCm0eOnDY995z9/rt//qvvfYR5nipPjeP1D2hTm8T5VUGZnaKbMrnOB2Zyx9VN1RIG9dpZfh1wTXVTx+U7om7WbjpOxF0LjHmBprZfrFWz9ouAzeOkneh2EPMJ15yyjZZtHX8fwFpZ3szqn/KuSUPanID5PshPwCkmUa/0aWdXdJ88fh/wc6oSHXDIO3qetBtaK0ewxD4NoQOznWJ6idcCA9xOH1XrhwrzgQ7Lch88VP51Ull4C2BZswE3BJgPmRHwR/C1QqIYR+EdSwd+1GEeDrYLJAqQndLk8Jfi2NUQ7hJlMWxUIgNpHYRMATZIbRt6WvhagFV/7NovhvvPiDEL2XFm3/8E1iCtLV1Cfrn9Uj9dqJbhcgFSIQ8EnMPoQaVpUiyDKIHP422foTiGGiGq3moKdEXwUX/Qwzhk5h136m4wW/kst1TxhCd3vKgJskTUrvkPKrnQ/cA2vke9bYCB3EQ3DC4ESRGCN3SI80mIZ2A4gQUKVAgFY/UgGoAX4DEb4nhYS79bI/E6Y0zUlvWoLoaYpfY+gjy34EFIA1gsAeIBYQWeAOlqBWF70DRhrwFWQcJGYQcSSI0FGx6WnzFT82rRKee2YHIYxoH0SJFfIYmTSRpQjRv+sF9Fw0WPC1BFB2IGfgMCSmSp5C1ochhIMAwkFiedT3v3fqK6PijdR2svi3VeGvseCQXVOulJ7g6UrRRC6794CdB3hTk5cJKeJaBwVyEBX01Po7x/t4H2Ij2iuHwIytiJXzslHNjNyAZKHWoLirTVoJMhaXK0lOq6CDmg88hzyCzxRTQEBjBimYfXlfLNfsPlcVwsgz90fvuTWCXZqGq3QCZPa1DUu/7k5XpMh/EgpdwGwtrElAUME9hYZmySUTv5JcDe2QNYRZIj4wO4Ud2ILo+tgqkY0ocVA1kVWSAnoclwLyI/bFr5R1hRKCuiobHabgXZOXBU939lKJys/5w13Ktug9F9cI4aTkXSGqI9spVrOJMTSigMKCNBeShV2HnOFD9jOn2HXLLocm/b9rZneHI6JDOJG9IIqvjRIbkESRBbFOVfpg/J0H2vf97EWC+wDmJOf48eXxSbvzVNtepazZo7+iQNvQ1cdzJbymYV86MNUV904N1Crv7oMKD3QsTWJqAhB3MHH5abitdPh3oiiGGzn4F0TUcTaFt7SH00mPBLaBtjfJzQdk+vC3Cw4iDZaWi7XQnNvw3aGD4ZSSu5XAX2gYIvcAGTIKtGDIPHVPYV2bPF1VgqbM63kY+tfnMoPFVdY67XSTcw3gXOr7Xt6oK1QgD5pkp9DCTQ6uAVtaDmqIlFVO0mWZrq6xk1vvEbI8+X1Wn7seouHVMpWA9zsrWINErhZ8klCffAiTOL1PXDtDOoKIwqNZIN3Aif1bWnAn06fJBFow8i4uPkFmavOLDEUK0w20PoXiP2DoGLCckd0FYRQiXgx9Go1Wm4niY8bhT7mfWifvvg++LS1dAGMPFKsG/Tj3sJv5yRK6cPbFsXZ8ubtDuLsela4lhLejXVHlMbuZfLyx/Adlw9DQ/X1fEAAAAAElFTkSuQmCC" class="star-item"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAAXNSR0IArs4c6QAABN9JREFUSEutll2IVVUUx39rn3vvzB1vjo6JaZewICyyHioqKYoeog8YkiIxEnorCyoKoiLCD1SS8CEiyJGIiqiXigKJgooQ6iHtw0woooLxo8acaZz7cT723ivWuVdpCm0eOnDY995z9/rt//qvvfYR5nipPjeP1D2hTm8T5VUGZnaKbMrnOB2Zyx9VN1RIG9dpZfh1wTXVTx+U7om7WbjpOxF0LjHmBprZfrFWz9ouAzeOkneh2EPMJ15yyjZZtHX8fwFpZ3szqn/KuSUPanID5PshPwCkmUa/0aWdXdJ88fh/wc6oSHXDIO3qetBtaK0ewxD4NoQOznWJ6idcCA9xOH1XrhwrzgQ7Lch88VP51Ull4C2BZswE3BJgPmRHwR/C1QqIYR+EdSwd+1GEeDrYLJAqQndLk8Jfi2NUQ7hJlMWxUIgNpHYRMATZIbRt6WvhagFV/7NovhvvPiDEL2XFm3/8E1iCtLV1Cfrn9Uj9dqJbhcgFSIQ8EnMPoQaVpUiyDKIHP422foTiGGiGq3moKdEXwUX/Qwzhk5h136m4wW/kst1TxhCd3vKgJskTUrvkPKrnQ/cA2vke9bYCB3EQ3DC4ESRGCN3SI80mIZ2A4gQUKVAgFY/UgGoAX4DEb4nhYS79bI/E6Y0zUlvWoLoaYpfY+gjy34EFIA1gsAeIBYQWeAOlqBWF70DRhrwFWQcJGYQcSSI0FGx6WnzFT82rRKee2YHIYxoH0SJFfIYmTSRpQjRv+sF9Fw0WPC1BFB2IGfgMCSmSp5C1ochhIMAwkFiedT3v3fqK6PijdR2svi3VeGvseCQXVOulJ7g6UrRRC6794CdB3hTk5cJKeJaBwVyEBX01Po7x/t4H2Ij2iuHwIytiJXzslHNjNyAZKHWoLirTVoJMhaXK0lOq6CDmg88hzyCzxRTQEBjBimYfXlfLNfsPlcVwsgz90fvuTWCXZqGq3QCZPa1DUu/7k5XpMh/EgpdwGwtrElAUME9hYZmySUTv5JcDe2QNYRZIj4wO4Ud2ILo+tgqkY0ocVA1kVWSAnoclwLyI/bFr5R1hRKCuiobHabgXZOXBU939lKJys/5w13Ktug9F9cI4aTkXSGqI9spVrOJMTSigMKCNBeShV2HnOFD9jOn2HXLLocm/b9rZneHI6JDOJG9IIqvjRIbkESRBbFOVfpg/J0H2vf97EWC+wDmJOf48eXxSbvzVNtepazZo7+iQNvQ1cdzJbymYV86MNUV904N1Crv7oMKD3QsTWJqAhB3MHH5abitdPh3oiiGGzn4F0TUcTaFt7SH00mPBLaBtjfJzQdk+vC3Cw4iDZaWi7XQnNvw3aGD4ZSSu5XAX2gYIvcAGTIKtGDIPHVPYV2bPF1VgqbM63kY+tfnMoPFVdY67XSTcw3gXOr7Xt6oK1QgD5pkp9DCTQ6uAVtaDmqIlFVO0mWZrq6xk1vvEbI8+X1Wn7seouHVMpWA9zsrWINErhZ8klCffAiTOL1PXDtDOoKIwqNZIN3Aif1bWnAn06fJBFow8i4uPkFmavOLDEUK0w20PoXiP2DoGLCckd0FYRQiXgx9Go1Wm4niY8bhT7mfWifvvg++LS1dAGMPFKsG/Tj3sJv5yRK6cPbFsXZ8ubtDuLsela4lhLejXVHlMbuZfLyx/Adlw9DQ/X1fEAAAAAElFTkSuQmCC" class="star-item"></div></div><div class="cover-image bg-box box-square"><div class="spine-cat-view" style="background-image:url(&quot;https://d1vyp5kjqdxn2l.cloudfront.net/cdnstatic/dnaxcat_images/skill/2012.png&quot;);"><canvas class="spine-view" style="visibility:hidden;"></canvas><div class="loading-outer"><div class="common-loading"><div class="animate-inner"></div></div></div></div></div></div>',1),pt={class:"market-info"},ft={class:"buy-item price-info price-com-info"},yt={class:"flex-row-start align-center"},Ct={class:"section-item nft-info"},Dt=(0,s._)("div",{class:"element"},[(0,s._)("img",{src:"https://d1vyp5kjqdxn2l.cloudfront.net/cdnstatic/img/69e7194949c1d89cd94cdbe6b58da853.png"})],-1),At={class:"infos"},bt={class:"title"},_t=(0,s._)("span",{class:"token-id-m"},"#",-1),Pt={key:0,class:"owner-info"},It=["href"],Tt={class:"token-id"},Rt={class:"aside-right"},Bt={class:"section-item"},St={class:"title"},Lt={class:"skill-list"},zt={class:"s-title"},Ut=(0,s._)("img",{src:k},null,-1),Ft={class:"info"},Nt={class:"title-name",style:{color:"rgb(255, 255, 255)"}},qt={class:"brief"},Wt={key:0,class:"brief"};var Xt=e(5362),Vt=e(936),Yt=e(1279),Et=e(570),Jt=e(9756),Qt=e(2811),xt=e(5546),Ht=e(9239);e(9326);const{t:Zt}=m.default.global;var Kt={data(){return{t:Zt,isLogin:!1,isRefreshing:!1,stakeLoading:!1,stakeAmount:0,balance:0,utils:Yt,gotPrice:Vt.ph,logo:"",checkLowerCase:Vt.YG,teafiContract:"",blockDelay:0,account:null,mainToken:{name:""},stakeContract:null,stakeData:{},item1:{}}},activated(){this.isRefreshing=!0,this.teafiContract=this.currentNetwork.stockContract,this.handleAccount(),this.callBlock(1)},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime),clearTimeout(this.callBlockTime)},computed:{...(0,Jt.Se)(["currentNetwork","currentConfig","accountChange","connectState","accountList","privateKeyList","taskList","currentRpc"]),coinImagePath(){return e(3058)(`./${this.currentNetwork.ChainDex}.png`)}},watch:{accountChange:{handler(t,a){this.handleAccount()},deep:!0}},methods:{...(0,Jt.nv)(["setConnectDialog"]),async handleAccount(){this.stakeData={};let t=window.wallet.getByAccount();this.logo=window.wallet.getWrapped().logo,t?.address?(this.account=t,this.isLogin=!0,await this.loginCallBack()):this.isLogin=!1},getShortAddress(t){return t.substr(0,6)+"..."+t.substr(-4)},async loginCallBack(){let t=window.wallet.getWrappedAddress();this.item1=await window.wallet.getByToken(t);let a=window.wallet.getByAccount();this.stakeContract=new Xt.Z.Call({blockchain:this.currentNetwork.chains,type:"stock",address:this.teafiContract,provider:a.provider})},loginFn(){this.setConnectDialog(!0)},async setMainToken(){await this.stakeContract.payParams("setMainToken",[this.currentNetwork.dogeContract])},maxHandler(){let t=(0,Qt.IU)(this.item1.balance);if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress())){const a=Et.vz("0.001",this.item1.decimals);t=t.sub(a)}this.stakeAmount=(0,Vt.qD)(Et.bM(t,this.item1.decimals))},copyHandler(){this.reset();let t=window.wallet.getByAccount();const a=window.location.origin+"/#/farms/stakestock?addr="+t.address;(0,Ht.Z)(a),(0,xt.bM)({type:Zt("success"),title:Zt("success"),message:Zt("copy")+Zt("success")})},async callBlock(t){this.callBlockTime=setTimeout((async()=>{let t=(new Date).getTime(),{blockDelay:a,blockNumber:e}=await window.wallet.getBlockDelay();if(this.blockDelay!=a&&(this.blockDelay=a,await this.refreshPrice()),this.newBlock=e,this.isRefreshing){let a=(new Date).getTime();this.callBlock(a-t>1e3?0:1e3-(a-t))}else;}),t)},async refreshPrice(){if(null==this.stakeContract)return;let t=[];[this.stakeData.totalStaking,this.stakeData.totalRewards,this.stakeData.totalReceive,this.stakeData.invFee,this.stakeData.rewardsRate,this.stakeData.mainToken,t]=await Promise.all([this.stakeContract.getParams("totalStaking"),this.stakeContract.getParams("totalRewards"),this.stakeContract.getParams("totalReceive"),this.stakeContract.getParams("invFee"),this.stakeContract.getParams("rewardsRate"),this.stakeContract.getParams("mainToken"),this.stakeContract.getParams("getTopList",[0,20])]),t=t.filter((t=>"0x0000000000000000000000000000000000000000"!==t.walletAddress));const a={};t.forEach((t=>{const e=t.walletAddress,s=t.amount;(!(e in a)||a[e]<s)&&(a[e]=s)}));const e=Object.keys(a).map((t=>({walletAddress:t,amount:a[t]})));e.sort(((t,a)=>a.amount-t.amount));const s=e.map((async t=>{const{walletAddress:a,amount:e}=t;return{walletAddress:a,amount:e,shareTokens:await this.stakeContract.getParams("ShareTokens",[a])}})),i=await Promise.all(s);if(this.stakeData.topList=i,this.mainToken=await window.wallet.getByToken(this.stakeData.mainToken),!this.isLogin)return;let n=window.wallet.getByAccount(),l=await this.stakeContract.getParams("getUserInfo",[n.address]);this.stakeData.Stakings=l[1],this.stakeData.Rewards=l[2],this.stakeData.canRewards=l[3],this.stakeData.Share=l[4],this.stakeData.Invitation=l[5],this.stakeData.historyRewards=l[6],[this.stakeData.getInvitationLength,this.stakeData.ShareTokens]=await Promise.all([this.stakeContract.getParams("getInvitationLength"),this.stakeContract.getParams("ShareTokens",[n.address])])},async reset(){},async stakeInEth(){let t="";this.stakeLoading=!0;let a=localStorage.getItem("invite");t=a&&42==a.length?a:"0x0000000000000000000000000000000000000000";let e=Et.fi(this.stakeAmount);try{let a=await this.stakeContract.payParams("increaseStakingEth",[t],e);await a.wait(),(0,xt.bM)({type:Zt("success"),title:Zt("success"),message:Zt("exchange")+Zt("success")}),this.stakeAmount=0}catch(t){(0,xt.bM)({title:"提示 Stake Fail",message:t.message,type:"error",duration:3e3})}this.stakeLoading=!1},async claimReward(){this.stakeLoading=!0;let t=window.wallet.getByAccount();try{let a=await this.stakeContract.payParams("receiveRewards",[t.address]);await a.wait(),(0,xt.bM)({type:Zt("success"),title:Zt("success"),message:Zt("exchange")+Zt("success")}),this.stakeAmount=0}catch(t){(0,xt.bM)({title:"提示 Stake Fail",message:t.message,type:"error",duration:3e3})}this.stakeLoading=!1}}},Mt=e(7650);var Gt=(0,Mt.Z)(Kt,[["render",function(t,a,e,i,n,l){const c=(0,s.up)("Ticket"),o=(0,s.up)("el-icon"),r=(0,s.up)("Coin"),d=(0,s.up)("Sugar"),g=(0,s.up)("el-button"),m=(0,s.up)("Loading"),k=(0,s.up)("el-tag");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",h,[(0,s._)("div",v,[(0,s._)("div",p,[(0,s.Wm)(o,{size:24},{default:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1})]),(0,s._)("div",f,[(0,s._)("div",y,(0,u.zw)(n.t("total")+n.t("staking"))+" (BNB)",1),n.stakeData.totalStaking?((0,s.wg)(),(0,s.iD)("div",C,[(0,s.Uk)((0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.totalStaking,9)))+" ",1),D])):(0,s.kq)("",!0)])]),(0,s._)("div",A,[(0,s._)("div",b,[(0,s.Wm)(o,{size:24},{default:(0,s.w5)((()=>[(0,s.Wm)(r)])),_:1})]),(0,s._)("div",_,[(0,s._)("div",P,(0,u.zw)(n.t("total")+n.t("claim"))+" (BNB)",1),n.stakeData.totalReceive?((0,s.wg)(),(0,s.iD)("div",I,[(0,s.Uk)((0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.totalReceive,9)))+" ",1),T])):(0,s.kq)("",!0)])]),(0,s._)("div",R,[(0,s._)("div",B,[(0,s.Wm)(o,{class:"is-loading",size:24},{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1})]),(0,s._)("div",S,[(0,s._)("div",L,(0,u.zw)(n.t("total")+n.t("reward"))+" (BNB)",1),n.stakeData.totalRewards?((0,s.wg)(),(0,s.iD)("div",z,[(0,s.Uk)((0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.totalRewards,9)))+" ",1),U])):(0,s.kq)("",!0)])])]),(0,s._)("div",F,[N,(0,s._)("div",q,[n.stakeData.Stakings?((0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("div",X,[(0,s._)("span",null,(0,u.zw)(n.t("current")+n.t("staking")+" $BNB "+n.gotPrice(n.utils.formatUnits(n.stakeData.Stakings,9))),1)]),(0,s._)("div",V,[(0,s._)("div",Y,[(0,s._)("div",null,[(0,s._)("span",E,(0,u.zw)(n.t("current")+n.t("reward")),1)]),(0,s._)("div",J,[(0,s._)("img",{src:l.coinImagePath},null,8,Q),n.stakeData.canRewards?((0,s.wg)(),(0,s.iD)("span",x,(0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.canRewards,9))),1)):(0,s.kq)("",!0),H])]),(0,s._)("div",Z,[(0,s._)("div",null,[(0,s._)("span",K,(0,u.zw)(n.t("claimd")),1)]),(0,s._)("div",M,[(0,s._)("img",{src:l.coinImagePath},null,8,G),n.stakeData.Rewards?((0,s.wg)(),(0,s.iD)("span",O,(0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.Rewards,9))),1)):(0,s.kq)("",!0)])]),(0,s._)("div",j,[n.isLogin?((0,s.wg)(),(0,s.j4)(g,{key:0,disabled:n.stakeData.canRewards.lte(0),loading:n.stakeLoading,class:"common-button button-primary MR-5",onClick:l.claimReward},{default:(0,s.w5)((()=>[(0,s.Uk)((0,u.zw)(n.t("claimReward")),1)])),_:1},8,["disabled","loading","onClick"])):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),(0,s._)("div",$,[(0,s._)("div",tt,[(0,s._)("span",null,(0,u.zw)(n.t("reward"))+" "+(0,u.zw)(n.mainToken.name),1)]),(0,s._)("div",at,[(0,s._)("div",et,[(0,s._)("div",null,[(0,s._)("span",st,(0,u.zw)(n.t("totalInviteReward")),1)]),(0,s._)("div",it,[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r)])),_:1}),n.stakeData.ShareTokens?((0,s.wg)(),(0,s.iD)("span",nt,(0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.ShareTokens,n.mainToken.decimals))),1)):(0,s.kq)("",!0),lt])]),(0,s._)("div",ct,[(0,s._)("div",null,[(0,s._)("span",ot,(0,u.zw)(n.t("history")+n.t("claimReward")),1)]),(0,s._)("div",rt,[(0,s._)("img",{src:l.coinImagePath},null,8,dt),n.stakeData.Rewards?((0,s.wg)(),(0,s.iD)("span",gt,(0,u.zw)(n.gotPrice(n.utils.formatUnits(n.stakeData.historyRewards,9))),1)):(0,s.kq)("",!0)])])])])])]),(0,s._)("div",mt,[(0,s._)("div",ut,[(0,s._)("div",wt,[(0,s._)("div",kt,[(0,s._)("div",ht,[vt,(0,s._)("div",pt,[(0,s._)("div",ft,[n.item1.loading?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(m)])),_:1})):n.item1.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[n.isLogin?((0,s.wg)(),(0,s.j4)(k,{key:0,class:"ML-10 ml-2 pointer",effect:"light"},{default:(0,s.w5)((()=>[(0,s.Uk)(" (BNB): "+(0,u.zw)(n.gotPrice(n.utils.formatUnits(n.item1.balance,n.item1.decimals)))+" ≈ ",1)])),_:1})):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{class:"buy-item__input flex-1 amount","onUpdate:modelValue":a[0]||(a[0]=t=>n.stakeAmount=t),placeholder:"0.00"},null,512),[[w.nr,n.stakeAmount]]),n.isLogin?((0,s.wg)(),(0,s.j4)(k,{key:2,class:"ML-10 ml-2 pointer",effect:"light",onClick:l.maxHandler,type:"warning",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("MAX")])),_:1},8,["onClick"])):(0,s.kq)("",!0)]),(0,s._)("div",yt,[n.isLogin?((0,s.wg)(),(0,s.j4)(g,{key:0,loading:n.stakeLoading,class:"common-button button-44 button-primary",onClick:l.stakeInEth},{default:(0,s.w5)((()=>[(0,s.Uk)((0,u.zw)(n.t("staking")),1)])),_:1},8,["loading","onClick"])):(0,s.kq)("",!0),n.isLogin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:1,class:"common-button button-44 button-primary",onClick:a[1]||(a[1]=(...t)=>l.loginFn&&l.loginFn(...t))},(0,u.zw)(n.t("connect")+n.t("wallet")),1))])]),(0,s._)("section",Ct,[Dt,(0,s._)("div",At,[(0,s._)("div",bt,[_t,(0,s.Uk)((0,u.zw)(n.t("staking"))+" $BNB ",1)]),n.stakeData.rewardsRate?((0,s.wg)(),(0,s.iD)("div",Pt,[(0,s.Uk)((0,u.zw)(n.t("farmsNav.stake.winx2rewards")+n.stakeData.rewardsRate)+" ",1),n.isLogin?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"/#/farms/stakestock?addr="+n.account.address,target:"_blank"},(0,u.zw)(n.t("farmsNav.stake.inviteReward")+"("+n.mainToken.name+") "+n.stakeData.invFee+"%"),9,It)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",Tt,[n.isLogin?((0,s.wg)(),(0,s.j4)(k,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:l.copyHandler,type:"success",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,u.zw)(n.t("copyInviteLink")),1)])),_:1},8,["onClick"])):(0,s.kq)("",!0)])])]),(0,s._)("div",Rt,[(0,s._)("section",Bt,[(0,s._)("div",St,(0,u.zw)(n.t("topInvite")),1),(0,s._)("div",Lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.stakeData.topList,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"skill-item",key:a},[(0,s._)("div",zt,[Ut,(0,s._)("div",Ft,[(0,s._)("div",Nt,(0,u.zw)(l.getShortAddress(t.walletAddress)),1)])]),(0,s._)("div",qt,"$BNB: "+(0,u.zw)(n.gotPrice(n.utils.formatUnits(t.amount,9))),1),t.shareTokens?((0,s.wg)(),(0,s.iD)("div",Wt,(0,u.zw)(n.mainToken.name)+": "+(0,u.zw)(n.gotPrice(n.utils.formatUnits(t.shareTokens,n.mainToken.decimals))),1)):(0,s.kq)("",!0)])))),128))])])])])])])])],64)}]]);const Ot={class:"downline"},jt={class:"section-item"},$t={class:"skill-list"},ta={class:"s-title"},aa=(0,s._)("img",{src:k},null,-1),ea={class:"info"},sa={class:"title-name",style:{color:"rgb(255, 255, 255)"}},ia={class:"avg-prices"},na=(0,s._)("div",{class:"title"},null,-1),la={class:"price-list"},ca={class:"price-item"},oa={class:"item-title"},ra={class:"values"},da={class:"item-value"},ga={class:"tag common-tag-border common-tag-theme-green"},ma={class:"price-value"},ua=["src"],wa={key:0,class:"amount"},ka=(0,s._)("span",{class:"usd-value"},null,-1),ha={class:"item-value"},va={class:"tag common-tag-border common-tag-theme-yellow"},pa={class:"price-value"},fa=["src"],ya={key:0,class:"amount"},Ca={class:"price-item"},Da={class:"item-title"},Aa={class:"values"},ba={class:"item-value"},_a={class:"tag common-tag-border common-tag-theme-green"},Pa={class:"price-value"},Ia={key:0,class:"amount"},Ta=(0,s._)("span",{class:"usd-value"},null,-1),Ra={class:"item-value"},Ba={class:"tag common-tag-border common-tag-theme-yellow"},Sa={class:"price-value"},La=["src"],za={key:0,class:"amount"};const{t:Ua}=m.default.global;var Fa={data(){return{t:Ua,isLogin:!1,isRefreshing:!1,balance:0,utils:Yt,gotPrice:Vt.ph,logo:"",checkLowerCase:Vt.YG,teafiContract:"",blockDelay:0,account:null,mainToken:{name:""},stakeContract:null,stakeData:{},item1:{}}},activated(){this.isRefreshing=!0,this.teafiContract=this.currentNetwork.stockContract,this.handleAccount(),this.callBlock(1)},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime),clearTimeout(this.callBlockTime)},computed:{...(0,Jt.Se)(["currentNetwork","currentConfig","accountChange","connectState","accountList","privateKeyList","taskList","currentRpc"]),coinImagePath(){return e(3058)(`./${this.currentNetwork.ChainDex}.png`)}},watch:{accountChange:{handler(t,a){this.handleAccount()},deep:!0}},methods:{...(0,Jt.nv)(["setConnectDialog"]),async handleAccount(){this.stakeData={};let t=window.wallet.getByAccount();this.logo=window.wallet.getWrapped().logo,t?.address?(this.account=t,this.isLogin=!0,await this.loginCallBack()):this.isLogin=!1},getShortAddress(t){return t.substr(0,6)+"..."+t.substr(-4)},async loginCallBack(){let t=window.wallet.getWrappedAddress();this.item1=await window.wallet.getByToken(t),this.stakeContract=new Xt.Z.Call({blockchain:this.currentNetwork.chains,type:"stock",address:this.teafiContract,provider:this.account.provider})},loginFn(){this.setConnectDialog(!0)},async callBlock(t){this.callBlockTime=setTimeout((async()=>{let t=(new Date).getTime(),{blockDelay:a,blockNumber:e}=await window.wallet.getBlockDelay();if(this.blockDelay!=a&&(this.blockDelay=a,await this.refreshPrice()),this.newBlock=e,this.isRefreshing){let a=(new Date).getTime();this.callBlock(a-t>1e3?0:1e3-(a-t))}else;}),t)},async refreshPrice(){if(null==this.stakeContract)return;this.isRefreshing=!1;const[t]=await Promise.all([this.stakeContract.getParams("getInvitationLength")]),a=Math.ceil(t/10),e=Array.from({length:a},((t,a)=>this.stakeContract.getParams("getInvitationList",[10*a,10]))),s=(await Promise.all(e)).flat();this.stakeData=s.filter((t=>"0x0000000000000000000000000000000000000000"!==t.addr))},async reset(){},async stakeInEth(){let t="";this.stakeLoading=!0;let a=localStorage.getItem("invite");t=a&&42==a.length?a:"0x0000000000000000000000000000000000000000";let e=Et.fi(this.stakeAmount);try{let a=await this.stakeContract.payParams("increaseStakingEth",[t],e);await a.wait(),(0,xt.bM)({type:Ua("success"),title:Ua("success"),message:Ua("exchange")+Ua("success")}),this.stakeAmount=0}catch(t){(0,xt.bM)({title:"提示 Stake Fail",message:t.message,type:"error",duration:3e3})}this.stakeLoading=!1},async claimReward(){this.stakeLoading=!0;let t=window.wallet.getByAccount();try{let a=await this.stakeContract.payParams("receiveRewards",[t.address]);await a.wait(),(0,xt.bM)({type:Ua("success"),title:Ua("success"),message:Ua("exchange")+Ua("success")}),this.stakeAmount=0}catch(t){(0,xt.bM)({title:"提示 Stake Fail",message:t.message,type:"error",duration:3e3})}this.stakeLoading=!1}}};var Na=(0,Mt.Z)(Fa,[["render",function(t,a,e,i,n,l){const c=(0,s.up)("Coin"),o=(0,s.up)("el-icon");return(0,s.wg)(),(0,s.iD)("div",Ot,[(0,s._)("section",jt,[(0,s._)("div",$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.stakeData,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"skill-item",key:a},[(0,s._)("div",ta,[aa,(0,s._)("div",ea,[(0,s._)("div",sa,(0,u.zw)(l.getShortAddress(t.addr)),1)])]),(0,s._)("div",ia,[na,(0,s._)("div",la,[(0,s._)("div",ca,[(0,s._)("div",oa,[(0,s._)("span",null,(0,u.zw)(n.t("current")+n.t("staking")+" $BNB "+n.gotPrice(n.utils.formatUnits(t.staking,9))),1)]),(0,s._)("div",ra,[(0,s._)("div",da,[(0,s._)("div",null,[(0,s._)("span",ga,(0,u.zw)(n.t("current")+n.t("reward")),1)]),(0,s._)("div",ma,[(0,s._)("img",{src:l.coinImagePath},null,8,ua),t.rewards?((0,s.wg)(),(0,s.iD)("span",wa,(0,u.zw)(n.gotPrice(n.utils.formatUnits(t.rewards,9))),1)):(0,s.kq)("",!0),ka])]),(0,s._)("div",ha,[(0,s._)("div",null,[(0,s._)("span",va,(0,u.zw)(n.t("claimd")),1)]),(0,s._)("div",pa,[(0,s._)("img",{src:l.coinImagePath},null,8,fa),t.receives?((0,s.wg)(),(0,s.iD)("span",ya,(0,u.zw)(n.gotPrice(n.utils.formatUnits(t.receives,9))),1)):(0,s.kq)("",!0)])])])]),(0,s._)("div",Ca,[(0,s._)("div",Da,[(0,s._)("span",null,(0,u.zw)(n.t("history")),1)]),(0,s._)("div",Aa,[(0,s._)("div",ba,[(0,s._)("div",null,[(0,s._)("span",_a,(0,u.zw)(n.t("totalDownLineShare")),1)]),(0,s._)("div",Pa,[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1}),t.share?((0,s.wg)(),(0,s.iD)("span",Ia,(0,u.zw)(n.gotPrice(n.utils.formatUnits(t.share,9))),1)):(0,s.kq)("",!0),Ta])]),(0,s._)("div",Ra,[(0,s._)("div",null,[(0,s._)("span",Ba,(0,u.zw)(n.t("history")+n.t("claimReward")),1)]),(0,s._)("div",Sa,[(0,s._)("img",{src:l.coinImagePath},null,8,La),t.historyRewards?((0,s.wg)(),(0,s.iD)("span",za,(0,u.zw)(n.gotPrice(n.utils.formatUnits(t.historyRewards,9))),1)):(0,s.kq)("",!0)])])])])])])])))),128))])])])}]]);const{t:qa}=m.default.global;var Wa={data(){return{t:qa,activeName:"deshboard",account:!1,teafiContract:""}},components:{eldeshboard:Gt,eldownOnline:Na},watch:{accountChange:{handler(t,a){this.handleAccount()},deep:!0}},async mounted(){this.handleAccount()},computed:{...(0,Jt.Se)(["currentNetwork","currentConfig","accountChange","connectState"])},methods:{...(0,Jt.nv)(["setConnectDialog"]),handleAccount(){this.isRefreshing=!0,this.teafiContract=this.currentNetwork.stockContract,this.account=window.wallet.getByAccount()},loginFn(){this.setConnectDialog(!0)},async tabChange(t,a){this.activeName=t}}};var Xa={data(){return{activeName:"stakestock",trade:""}},components:{elItem:(0,Mt.Z)(Wa,[["render",function(t,a,e,i,n,l){const c=(0,s.up)("eldeshboard"),m=(0,s.up)("el-tab-pane"),u=(0,s.up)("eldownOnline"),w=(0,s.up)("el-tabs");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[(0,s._)("div",d,[(0,s._)("div",g,[(0,s.Wm)(w,{modelValue:n.activeName,"onUpdate:modelValue":a[0]||(a[0]=t=>n.activeName=t),class:"tab-list"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{teafiContract:n.teafiContract,account:n.account,label:n.t("dashboardNav.title"),name:"deshboard"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["deshboard"===n.activeName?((0,s.wg)(),(0,s.j4)(c,{key:0})):(0,s.kq)("",!0)],1024))])),_:1},8,["teafiContract","account","label"]),(0,s.Wm)(m,{teafiContract:n.teafiContract,account:n.account,label:n.t("downline"),name:"downline"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,["downline"===n.activeName?((0,s.wg)(),(0,s.j4)(u,{key:0})):(0,s.kq)("",!0)],1024))])),_:1},8,["teafiContract","account","label"])])),_:1},8,["modelValue"])])])])])}]])},methods:{}};var Va=(0,Mt.Z)(Xa,[["render",function(t,a,e,o,r,d){const g=(0,s.up)("elItem");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",n,[(0,s._)("div",l,[(0,s._)("div",c,[(0,s.Wm)(g,{activeName:r.activeName},null,8,["activeName"])])])])])}]])}}]);